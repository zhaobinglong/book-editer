function hex_md5(a) {
	return binl2hex(core_md5(str2binl(a), a.length * chrsz))
}
function b64_md5(a) {
	return binl2b64(core_md5(str2binl(a), a.length * chrsz))
}
function str_md5(a) {
	return binl2str(core_md5(str2binl(a), a.length * chrsz))
}
function hex_hmac_md5(a, b) {
	return binl2hex(core_hmac_md5(a, b))
}
function b64_hmac_md5(a, b) {
	return binl2b64(core_hmac_md5(a, b))
}
function str_hmac_md5(a, b) {
	return binl2str(core_hmac_md5(a, b))
}
function md5_vm_test() {
	return "900150983cd24fb0d6963f7d28e17f72" == hex_md5("abc")
}
function core_md5(a, b) {
	a[b >> 5] |= 128 << b % 32, a[(b + 64 >>> 9 << 4) + 14] = b;
	for (var c = 1732584193, d = -271733879, e = -1732584194, f = 271733878, g = 0; g < a.length; g += 16) {
		var h = c,
			i = d,
			j = e,
			k = f;
		c = md5_ff(c, d, e, f, a[g + 0], 7, -680876936), f = md5_ff(f, c, d, e, a[g + 1], 12, -389564586), e = md5_ff(e, f, c, d, a[g + 2], 17, 606105819), d = md5_ff(d, e, f, c, a[g + 3], 22, -1044525330), c = md5_ff(c, d, e, f, a[g + 4], 7, -176418897), f = md5_ff(f, c, d, e, a[g + 5], 12, 1200080426), e = md5_ff(e, f, c, d, a[g + 6], 17, -1473231341), d = md5_ff(d, e, f, c, a[g + 7], 22, -45705983), c = md5_ff(c, d, e, f, a[g + 8], 7, 1770035416), f = md5_ff(f, c, d, e, a[g + 9], 12, -1958414417), e = md5_ff(e, f, c, d, a[g + 10], 17, -42063), d = md5_ff(d, e, f, c, a[g + 11], 22, -1990404162), c = md5_ff(c, d, e, f, a[g + 12], 7, 1804603682), f = md5_ff(f, c, d, e, a[g + 13], 12, -40341101), e = md5_ff(e, f, c, d, a[g + 14], 17, -1502002290), d = md5_ff(d, e, f, c, a[g + 15], 22, 1236535329), c = md5_gg(c, d, e, f, a[g + 1], 5, -165796510), f = md5_gg(f, c, d, e, a[g + 6], 9, -1069501632), e = md5_gg(e, f, c, d, a[g + 11], 14, 643717713), d = md5_gg(d, e, f, c, a[g + 0], 20, -373897302), c = md5_gg(c, d, e, f, a[g + 5], 5, -701558691), f = md5_gg(f, c, d, e, a[g + 10], 9, 38016083), e = md5_gg(e, f, c, d, a[g + 15], 14, -660478335), d = md5_gg(d, e, f, c, a[g + 4], 20, -405537848), c = md5_gg(c, d, e, f, a[g + 9], 5, 568446438), f = md5_gg(f, c, d, e, a[g + 14], 9, -1019803690), e = md5_gg(e, f, c, d, a[g + 3], 14, -187363961), d = md5_gg(d, e, f, c, a[g + 8], 20, 1163531501), c = md5_gg(c, d, e, f, a[g + 13], 5, -1444681467), f = md5_gg(f, c, d, e, a[g + 2], 9, -51403784), e = md5_gg(e, f, c, d, a[g + 7], 14, 1735328473), d = md5_gg(d, e, f, c, a[g + 12], 20, -1926607734), c = md5_hh(c, d, e, f, a[g + 5], 4, -378558), f = md5_hh(f, c, d, e, a[g + 8], 11, -2022574463), e = md5_hh(e, f, c, d, a[g + 11], 16, 1839030562), d = md5_hh(d, e, f, c, a[g + 14], 23, -35309556), c = md5_hh(c, d, e, f, a[g + 1], 4, -1530992060), f = md5_hh(f, c, d, e, a[g + 4], 11, 1272893353), e = md5_hh(e, f, c, d, a[g + 7], 16, -155497632), d = md5_hh(d, e, f, c, a[g + 10], 23, -1094730640), c = md5_hh(c, d, e, f, a[g + 13], 4, 681279174), f = md5_hh(f, c, d, e, a[g + 0], 11, -358537222), e = md5_hh(e, f, c, d, a[g + 3], 16, -722521979), d = md5_hh(d, e, f, c, a[g + 6], 23, 76029189), c = md5_hh(c, d, e, f, a[g + 9], 4, -640364487), f = md5_hh(f, c, d, e, a[g + 12], 11, -421815835), e = md5_hh(e, f, c, d, a[g + 15], 16, 530742520), d = md5_hh(d, e, f, c, a[g + 2], 23, -995338651), c = md5_ii(c, d, e, f, a[g + 0], 6, -198630844), f = md5_ii(f, c, d, e, a[g + 7], 10, 1126891415), e = md5_ii(e, f, c, d, a[g + 14], 15, -1416354905), d = md5_ii(d, e, f, c, a[g + 5], 21, -57434055), c = md5_ii(c, d, e, f, a[g + 12], 6, 1700485571), f = md5_ii(f, c, d, e, a[g + 3], 10, -1894986606), e = md5_ii(e, f, c, d, a[g + 10], 15, -1051523), d = md5_ii(d, e, f, c, a[g + 1], 21, -2054922799), c = md5_ii(c, d, e, f, a[g + 8], 6, 1873313359), f = md5_ii(f, c, d, e, a[g + 15], 10, -30611744), e = md5_ii(e, f, c, d, a[g + 6], 15, -1560198380), d = md5_ii(d, e, f, c, a[g + 13], 21, 1309151649), c = md5_ii(c, d, e, f, a[g + 4], 6, -145523070), f = md5_ii(f, c, d, e, a[g + 11], 10, -1120210379), e = md5_ii(e, f, c, d, a[g + 2], 15, 718787259), d = md5_ii(d, e, f, c, a[g + 9], 21, -343485551), c = safe_add(c, h), d = safe_add(d, i), e = safe_add(e, j), f = safe_add(f, k)
	}
	return Array(c, d, e, f)
}
function md5_cmn(a, b, c, d, e, f) {
	return safe_add(bit_rol(safe_add(safe_add(b, a), safe_add(d, f)), e), c)
}
function md5_ff(a, b, c, d, e, f, g) {
	return md5_cmn(b & c | ~b & d, a, b, e, f, g)
}
function md5_gg(a, b, c, d, e, f, g) {
	return md5_cmn(b & d | c & ~d, a, b, e, f, g)
}
function md5_hh(a, b, c, d, e, f, g) {
	return md5_cmn(b ^ c ^ d, a, b, e, f, g)
}
function md5_ii(a, b, c, d, e, f, g) {
	return md5_cmn(c ^ (b | ~d), a, b, e, f, g)
}
function core_hmac_md5(a, b) {
	var c = str2binl(a);
	c.length > 16 && (c = core_md5(c, a.length * chrsz));
	for (var d = Array(16), e = Array(16), f = 0; 16 > f; f++) d[f] = 909522486 ^ c[f], e[f] = 1549556828 ^ c[f];
	var g = core_md5(d.concat(str2binl(b)), 512 + b.length * chrsz);
	return core_md5(e.concat(g), 640)
}
function safe_add(a, b) {
	var c = (65535 & a) + (65535 & b),
		d = (a >> 16) + (b >> 16) + (c >> 16);
	return d << 16 | 65535 & c
}
function bit_rol(a, b) {
	return a << b | a >>> 32 - b
}
function str2binl(a) {
	for (var b = Array(), c = (1 << chrsz) - 1, d = 0; d < a.length * chrsz; d += chrsz) b[d >> 5] |= (a.charCodeAt(d / chrsz) & c) << d % 32;
	return b
}
function binl2str(a) {
	for (var b = "", c = (1 << chrsz) - 1, d = 0; d < 32 * a.length; d += chrsz) b += String.fromCharCode(a[d >> 5] >>> d % 32 & c);
	return b
}
function binl2hex(a) {
	for (var b = hexcase ? "0123456789ABCDEF" : "0123456789abcdef", c = "", d = 0; d < 4 * a.length; d++) c += b.charAt(a[d >> 2] >> d % 4 * 8 + 4 & 15) + b.charAt(a[d >> 2] >> d % 4 * 8 & 15);
	return c
}
function binl2b64(a) {
	for (var b = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", c = "", d = 0; d < 4 * a.length; d += 3) for (var e = (a[d >> 2] >> 8 * (d % 4) & 255) << 16 | (a[d + 1 >> 2] >> 8 * ((d + 1) % 4) & 255) << 8 | a[d + 2 >> 2] >> 8 * ((d + 2) % 4) & 255, f = 0; 4 > f; f++) c += 8 * d + 6 * f > 32 * a.length ? b64pad : b.charAt(e >> 6 * (3 - f) & 63);
	return c
}
function parsHexToNormalString(a) {
	for (var b = "", c = a; c.length >= 2;) b += String.fromCharCode(parseInt(c.substring(0, 2), 16)), c = c.substring(2, c.length);
	return b
}
function parseHexString(a) {
	for (var b = []; a.length >= 2;) b.push(parseInt(a.substring(0, 2), 16)), a = a.substring(2, a.length);
	return b
}
function byteArray2String(a) {
	for (var b = "", c = 0; c < a.length; c++) b += String.fromCharCode(a[c]);
	return b
}
function rc4(a, b) {
	for (var c = [], d = [], e = 0; 256 > e; e++) c[e] = e, d[e] = a.charCodeAt(e % a.length);
	for (var f = 0, e = 0; 256 > e; e++) {
		f = f + c[e] + d[e] & 255;
		var g = c[e];
		c[e] = c[f], c[f] = g
	}
	for (var h, i = 0, j = 0, k = 0, l = "", e = 0; e < b.length; e++) {
		i = i + 1 & 255, j = j + c[i] & 255;
		var m = c[i];
		c[i] = c[j], c[j] = m, k = c[i] + c[j] & 255, h = b.charCodeAt(e), h ^= c[k], l += String.fromCharCode(h)
	}
	return l
}
function ToolTip(a) {
	var b = this,
		c = {
			container: $("body"),
			content: null,
			text: "",
			otherTop: 8,
			otherLeft: 8,
			isBig: !0,
			position: "top",
			removeTime: 1e4
        };
    console.warn(this.options);
	this.options = $.extend({}, c, a), this.options.container.append(this.create()), this.setPosition();
	var d = parseInt(this.options.removeTime);
	d >= 0 && setTimeout(function() {
		b.$panel.fadeOut(function() {
			b.$panel.remove()
		})
	}, d)
}
function LightBox(a, b, c) {
    // debugger;
	var d = $("<div class='light-box-bg'></div>"),
		e = $("<div class='light-box-out'></div>"),
		f = $("<div class='light-box'></div>").width(b).addClass(c),
		g = $("<div class='light-box-panel'></div>"),
		h = $("<div class='light-box-title'>" + a + "</div>"),
		i = $("<div class='light-box-cancel-btn' title='" + hf_utils.getLangVal(bcLanguage, "lbCnacelBtn") + "'>x</div>");
	e.append(d).append(f.append(h.append(i)).append(g)), this.$outBox = e, this.$box = f, this.$panel = g, this.$cancelBtn = i, this.$bg = d, this.$doc = $(document), this.width = (window.innerWidth || $(window).width()) < b ? "100%" : b, this.stopResize = !1, $(window).on("resize", this.resize.bind(this, 0)), hf_utils.isLteIE8() ? i.add(d).on(hf_utils.bindClcik(), this.cancel.bind(this)) : new Hammer(i[0]).on("tap", this.cancel.bind(this)), this.easyClose()
}
function SmartSelect(a) {
	var b = this,
		c = {
			className: "",
			container: null,
			data: [],
			changeCallback: function() {}
		};
    this.options = $.extend({}, c, a); //合并两个对象，并修改第一个对象
    console.log('this.options:' + this.options);
	var d = $("<div class='smart-select-arrow'><div class='smart-arrow-up'></div><div class='smart-arrow-down'></div></div>"),
		e = $("<ul class='smart-select-options hide'></ul>").addClass(this.options.className),
		f = $("<div class='smart-select-value'></div>"),
		g = this.options.data,
		h = $(this.options.container);
	this.showing = !1;
	for (var i = 0; i < g.length; i++)e.append("<li data-value=" + g[i].value + " data-label='" + g[i].label + "'>" + g[i].label + "</li>"), g[i].isDefault && f.text(g[i].label).data("value", g[i].value);
    this.$val = f,
    this.$opt = e,
    this.$container = h,
    h.append(d).append(f).append(e),
    f.css({
		marginLeft: h.css("paddingLeft"),
		lineHeight: h.height() + parseInt(h.css("paddingTop"), 10) + parseInt(h.css("paddingBottom"), 10) + "px"
    }),
    e.find("li").css({
		paddingLeft: h.css("paddingLeft")
    }),
    hf_utils.isLteIE8() ? (e.on(hf_utils.bindClcik(), this.choose.bind(this)), h.on(hf_utils.bindClcik(), this.toggleOption.bind(this)), $("body").on(hf_utils.bindClcik(), function(a) {
		$.contains(h[0], a.target) || h[0] == a.target || b.hideOptions()
	})) : (new Hammer(e[0]).on("tap", this.choose.bind(this)), new Hammer(h[0]).on("tap", this.toggleOption.bind(this)), new Hammer($("body")[0]).on("tap", function(a) {
		$.contains(h[0], a.target) || h[0] == a.target || b.hideOptions()
	}))
}
function SharePanel(a) {
	var b = this;
	hf_utils.isMobile() ? (b.qqBridgeLoaded = !1, b.create(a), b.show(), b.loadqqApi(function() {
		b.qqBridgeLoaded = !0
	})) : this.sharePC(a)
}
function UserDetailPanel(a) {
	var b = new LightBox(hf_utils.getLangVal(bcLanguage, "udpTitle"), 485),
		c = $("<div class='row user-info-content float-fix'></div>");
	$logo = $("<div class='user-logo-constent'></div>"), $img = $("<img src='" + a.accountLogo + "'>"), $info = $("<div class='left user-info-group'></div>"), $name = $("<p>" + a.name + "</p>"), $about = $("<p>" + a.about + "</p>"), $web = $("<p><a target='_blank' href='" + (a.website.match("https?://") ? a.website : "/" + a.website) + "'>" + a.website + "</a></p>"), $web.addClass("" == a.website ? "hide" : ""), b.getPanel().append(c.append($logo.append("<span class='ff-vertical-align'></span>").append($img)).append($info.append($name).append($about).append($web))), b.launch()
}
function BookDownload(a) {
	var b = {
		len: 5,
		downObj: {
			pdf: !0,
			zip: !0,
			exe: !0,
			exe2: !0,
			mac: !0
		}
	};
	a = $.extend({}, b, a);
	var c = a.len,
		d = a.downObj,
		e = a.bookId,
		f = $("<div class='book-download-panel'></div>"),
		g = $("<ul class='book-download-content'></ul>"),
		h = $("<li class='book-download-item'></li>").addClass(d.pdf ? "width-" + c : "af-hide"),
		i = $("<div class='book-download-img'><img src='" + fh5.bookwebsite.replace(/^https?:/, "https:") + "/resourceFiles/bookcase/img/pdf.png' /></div>"),
		j = $("<p class='book-download-text'>" + hf_utils.getLangVal(bcLanguage, "bdPDFText") + "</p>"),
		k = $("<div class='book-download-btn button-pure button-pure-red'>" + hf_utils.getLangVal(bcLanguage, "bdPDFBtn") + "</div>"),
		l = $("<li class='book-download-item'></li>").addClass(d.zip ? "width-" + c : "af-hide"),
		m = $("<div class='book-download-img'><img src='" + fh5.bookwebsite.replace(/^https?:/, "https:") + "/resourceFiles/bookcase/img/zip.png' /></div>"),
		n = $("<p class='book-download-text'>" + hf_utils.getLangVal(bcLanguage, "bdZIPText") + "</p>"),
		o = $("<div class='book-download-btn button-pure button-pure-orange'>" + hf_utils.getLangVal(bcLanguage, "bdZIPBtn") + "</div>"),
		p = $("<li class='book-download-item'></li>").addClass(d.exe ? "width-" + c : "af-hide"),
		q = $("<div class='book-download-img'><img src='" + fh5.bookwebsite.replace(/^https?:/, "https:") + "/resourceFiles/bookcase/img/exe.png' /></div>"),
		r = $("<p class='book-download-text'>" + hf_utils.getLangVal(bcLanguage, "bdEXEText1") + "</p>"),
		s = $("<div class='book-download-btn button-pure button-pure-blue'>" + hf_utils.getLangVal(bcLanguage, "bdEXEBtn1") + "</div>"),
		t = $("<li class='book-download-item'></li>").addClass(d.exe2 ? "width-" + c : "af-hide"),
		u = $("<div class='book-download-img'><img src='" + fh5.bookwebsite.replace(/^https?:/, "https:") + "/resourceFiles/bookcase/img/exe.png' /></div>"),
		v = $("<p class='book-download-text'>" + hf_utils.getLangVal(bcLanguage, "bdEXEText2") + "</p>"),
		w = $("<div class='book-download-btn button-pure button-pure-sky-blue'>" + hf_utils.getLangVal(bcLanguage, "bdEXEBtn2") + "</div>"),
		x = $("<li class='book-download-item'></li>").addClass(d.mac ? "width-" + c : "af-hide"),
		y = $("<div class='book-download-img'><img src='" + fh5.bookwebsite.replace(/^https?:/, "https:") + "/resourceFiles/bookcase/img/mac.png' /></div>"),
		z = $("<p class='book-download-text'>" + hf_utils.getLangVal(bcLanguage, "bdMACText") + "</p>"),
		A = $("<div class='book-download-btn button-pure button-pure-green'>" + hf_utils.getLangVal(bcLanguage, "bdMACBtn") + "</div>");
	h.append(i).append(j).append(k), l.append(m).append(n).append(o), p.append(q).append(r).append(s), t.append(u).append(v).append(w), x.append(y).append(z).append(A), d.pdf && g.append(h), d.zip && g.append(l), d.exe && g.append(p), d.exe2 && g.append(t), d.mac && g.append(x), k.on(hf_utils.bindClcik(), function() {
		hf_utils.downPDF(e, a.uLink, a.bLink)
	}), o.on(hf_utils.bindClcik(), function() {
		hf_utils.downZIP($(this), e)
	}), s.on(hf_utils.bindClcik(), function() {
		hf_utils.downEXE1($(this), e)
	}), w.on(hf_utils.bindClcik(), function() {
		hf_utils.downEXE2($(this), e)
	}), A.on(hf_utils.bindClcik(), function() {
		hf_utils.downMAC($(this), e)
	});
	var B = new LightBox(hf_utils.getLangVal(bcLanguage, "bdTitle"), 150 * c, "down");
	B.getPanel().append(f.append(g)), B.launch()
}
function DemoPanel(a, b, c) {
	hf_utils.isMobile() && (b.indexOf("index.html") >= 0 ? b = b.replace(/index.html/, "mobile/index.html") + "?maxwidthtosmallmode=0&maxheighttosmallmode=0" : b += "mobile/index.html?maxwidthtosmallmode=0&maxheighttosmallmode=0");
    var d = a.title;
    console.log(c.is_oss);
    // debugger;
	c.is_oss ? set_weixin_share(d, a.description, b, a.url + "files/shot.jpg") : hf_utils.weixinShanre(d, a.description, b, a.url + "files/shot.jpg");
	var e = $("<iframe class='bomb-box-read af-loading-bg' allowfullscreen frameborder='0'></iframe>"),
		f = e[0],
		d = hf_utils.isMobile() ? "" : d + "&nbsp;&nbsp;<a target='_blank' href='" + b + "' rel='nofollow'>" + hf_utils.getLangVal(bcLanguage, "dpTitle") + "</a>",
		g = hf_utils.isMobile() ? "iframe" : "iframe on-pc",
		h = new LightBox(d, "auto", g),
		i = h.getPanel(),
		j = h.getBox(),
		k = h.getCancelBtn();
	if (e.on("touchmove", function(a) {
		a.preventDefault()
	}), k.on(hf_utils.bindClcik(), function() {
		var a = c.caseLink;
		"" != c.domain && window.location.hostname.indexOf(c.domain) >= 0 && (a = "https://" + location.hostname + "/bookcase/" + c.bookcaseLink + "/index.html"), c.is_oss ? set_weixin_share(c.title, c.desc, a, c.imgUrl) : hf_utils.weixinShanre(c.title, c.desc, a, c.imgUrl)
	}), hf_utils.isMobile() && j.append(k), i.addClass("").append(e), h.setStopResize(!0), h.launch(), e.attr("src", b), hf_utils.isMobile()) {
		new ToolTip({
			container: j,
			content: k,
			position: "left",
			text: hf_utils.getLangVal(bcLanguage, "dpToolTip"),
			removeTime: 3e3
		}).getPanel().fadeIn(1e3);
		var l = new Hammer(k[0]),
			m = k[0].offsetTop,
			n = k[0].offsetLeft;
		l.get("pan").set({
			direction: Hammer.DIRECTION_ALL
		}), l.on("panstart", function(a) {
			m = k[0].offsetTop, n = k[0].offsetLeft
		}), l.on("panmove", function(a) {
			k.css({
				left: n + a.deltaX,
				top: m + a.deltaY
			})
		}), l.on("panend", function(a) {
			m = k[0].offsetTop
		})
	}
	f.onload = f.onreadystatechange = function() {
		this.readyState && "complete" != this.readyState || e.removeClass("af-loading-bg")
	}
}
function BookDetailPanel(a, b, c, d) {
    // debugger;
	var e = "20" != d.bMode || hf_utils.isPC() ? !1 : !0,
		f = a.outerWidth(),
		g = (a.outerHeight(), e ? 240 : f + 60 + 40 + 200),
		h = e ? 0 : f + 60 + 20;
	this.boxWidth = g, a.css("top", 0).removeClass("show-none");
	var i = new LightBox(hf_utils.getLangVal(bcLanguage, "bdpTitle"), this.boxWidth),
		j = $("<div class='book-detail-panel'></div>"),
		k = $("<div class='book-detail-left'></div>"),
		l = $("<div class='book-detail-warp'></div>"),
		m = $("<img class='book-detail-shelf' src='https://book.yunzhan365.com/resourceFiles/bookcase/img/shelf.png'>"),
		n = $("<div class='book-detail-right'></div>").css({
			paddingLeft: h
		}),
		o = ($("<div class='book-detail-info'></div>"), $("<div class='book-detail-title'> xxxxxxxxxxxxxxxxxx" + hf_utils.encodeHTML(b.title) + "</div>")),
		p = $("<div class='book-detail-page'>" + hf_utils.getLangVal(bcLanguage, "bdpPage") + ": " + b.pages + "</div>"),
		q = $("<div class='book-detail-desc' title='" + hf_utils.br2nl(hf_utils.encodeHTML(b.description)) + "'>" + hf_utils.encodeHTML(b.description) + "</div>"),
		r = $("<div class='button button-blue button-rounded button-block button-large'>" + hf_utils.getLangVal(bcLanguage, "bdpView") + "</div>"),
		s = $("<p class='book-detail-time'>" + hf_utils.getLangVal(bcLanguage, "bdpNewTime") + ": " + hf_utils.formatDate(hf_utils.parseDate(b.newTime), "yyyy-MM-dd") + "</p>");
	e && k.hide(), a.css({
		position: "relative",
		left: -2
	}), hf_utils.isLteIE8() ? a.add(r).on(hf_utils.bindClcik(), function() {
		i.cancel(), new DemoPanel(b, c, d)
	}) : (new Hammer(a[0]).on("tap", function() {
		i.cancel(), new DemoPanel(b, c, d)
	}), new Hammer(r[0]).on("tap", function() {
		i.cancel(), new DemoPanel(b, c, d)
	})), j.append(k.append(l.append(a)).append(m)).append(n.append(o).append(p).append(q).append(r)).appendTo(i.getPanel()), s.appendTo(i.getPanel()), $(window).on("resize", this.resize.bind(this)), this.resize(), i.launch();
	var t = a.find(".book-face");
	this.createQRCode(t, c)
}
function Bookcase(a, b) {
	var c = this;
	b = this.initData(a, b), this.setCurrentPage(0), this.pages = 1, this.isSlideFlag = "1" == b.showPage ? !0 : !1, "1" == b.pass && "1" == b.status ? this.showMessage(this.hasEncrypt()) : "0" == b.status && this.showMessage(hf_utils.getLangVal(bcLanguage, "bcInvisible")), this.createNav(), this.createFooter(), this.resize(), this.bindEvents(), this.showFolderHideBtns(this.isShowFolder, !0);
	var d = null;
	return $(window).on("resize", function() {
		d && clearTimeout(d), d = setTimeout(function() {
			c.resize()
		}, 50)
	}), this
}
function nocontextmenu() {
	return event.cancelBubble = !0, event.returnValue = !1, !1
}
function norightclick(a) {
	if (window.Event) {
		if (2 == a.which || 3 == a.which) return !1
	} else if (2 == event.button || 3 == event.button) return event.cancelBubble = !0, event.returnValue = !1, !1
}
function getSearchVal(a) {
	var b = new RegExp("(^|&)" + a + "=([^&]*)(&|$)", "i"),
		c = window.location.search.substr(1).match(b);
	return null != c ? c[2] : null
}!
function(a, b) {
    // debugger;
	"object" == typeof exports && "object" == typeof module ? module.exports = b() : "function" == typeof define && define.amd ? define([], b) : "object" == typeof exports ? exports.ClipboardJS = b() : a.ClipboardJS = b()
}(this, function() {
	return function(a) {
		function b(d) {
			if (c[d]) return c[d].exports;
			var e = c[d] = {
				i: d,
				l: !1,
				exports: {}
			};
			return a[d].call(e.exports, e, e.exports, b), e.l = !0, e.exports
		}
		var c = {};
		return b.m = a, b.c = c, b.i = function(a) {
			return a
		}, b.d = function(a, c, d) {
			b.o(a, c) || Object.defineProperty(a, c, {
				configurable: !1,
				enumerable: !0,
				get: d
			})
		}, b.n = function(a) {
			var c = a && a.__esModule ?
			function() {
				return a["default"]
			} : function() {
				return a
			};
			return b.d(c, "a", c), c
		}, b.o = function(a, b) {
			return Object.prototype.hasOwnProperty.call(a, b)
		}, b.p = "", b(b.s = 3)
	}([function(a, b, c) {
		var d, e, f;
		!
		function(g, h) {
			e = [a, c(7)], d = h, void 0 !== (f = "function" == typeof d ? d.apply(b, e) : d) && (a.exports = f)
		}(0, function(a, b) {
			"use strict";

			function c(a, b) {
				if (!(a instanceof b)) throw new TypeError("Cannot call a class as a function")
			}
			var d = function(a) {
					return a && a.__esModule ? a : {
						"default": a
					}
				}(b),
				e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
			function(a) {
				return typeof a
			} : function(a) {
				return a && "function" == typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ? "symbol" : typeof a
			}, f = function() {
				function a(a, b) {
					for (var c = 0; c < b.length; c++) {
						var d = b[c];
						d.enumerable = d.enumerable || !1, d.configurable = !0, "value" in d && (d.writable = !0), Object.defineProperty(a, d.key, d)
					}
				}
				return function(b, c, d) {
					return c && a(b.prototype, c), d && a(b, d), b
				}
			}(), g = function() {
				function a(b) {
					c(this, a), this.resolveOptions(b), this.initSelection()
				}
				return f(a, [{
					key: "resolveOptions",
					value: function() {
						var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
						this.action = a.action, this.container = a.container, this.emitter = a.emitter, this.target = a.target, this.text = a.text, this.trigger = a.trigger, this.selectedText = ""
					}
				}, {
					key: "initSelection",
					value: function() {
						this.text ? this.selectFake() : this.target && this.selectTarget()
					}
				}, {
					key: "selectFake",
					value: function() {
						var a = this,
							b = "rtl" == document.documentElement.getAttribute("dir");
						this.removeFake(), this.fakeHandlerCallback = function() {
							return a.removeFake()
						}, this.fakeHandler = this.container.addEventListener("click", this.fakeHandlerCallback) || !0, this.fakeElem = document.createElement("textarea"), this.fakeElem.style.fontSize = "12pt", this.fakeElem.style.border = "0", this.fakeElem.style.padding = "0", this.fakeElem.style.margin = "0", this.fakeElem.style.position = "absolute", this.fakeElem.style[b ? "right" : "left"] = "-9999px";
						var c = window.pageYOffset || document.documentElement.scrollTop;
						this.fakeElem.style.top = c + "px", this.fakeElem.setAttribute("readonly", ""), this.fakeElem.value = this.text, this.container.appendChild(this.fakeElem), this.selectedText = d["default"](this.fakeElem), this.copyText()
					}
				}, {
					key: "removeFake",
					value: function() {
						this.fakeHandler && (this.container.removeEventListener("click", this.fakeHandlerCallback), this.fakeHandler = null, this.fakeHandlerCallback = null), this.fakeElem && (this.container.removeChild(this.fakeElem), this.fakeElem = null)
					}
				}, {
					key: "selectTarget",
					value: function() {
						this.selectedText = d["default"](this.target), this.copyText()
					}
				}, {
					key: "copyText",
					value: function() {
						var a = void 0;
						try {
							a = document.execCommand(this.action)
						} catch (b) {
							a = !1
						}
						this.handleResult(a)
					}
				}, {
					key: "handleResult",
					value: function(a) {
						this.emitter.emit(a ? "success" : "error", {
							action: this.action,
							text: this.selectedText,
							trigger: this.trigger,
							clearSelection: this.clearSelection.bind(this)
						})
					}
				}, {
					key: "clearSelection",
					value: function() {
						this.trigger && this.trigger.focus(), window.getSelection().removeAllRanges()
					}
				}, {
					key: "destroy",
					value: function() {
						this.removeFake()
					}
				}, {
					key: "action",
					set: function() {
						var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "copy";
						if (this._action = a, "copy" !== this._action && "cut" !== this._action) throw new Error('Invalid "action" value, use either "copy" or "cut"')
					},
					get: function() {
						return this._action
					}
				}, {
					key: "target",
					set: function(a) {
						if (void 0 !== a) {
							if (!a || "object" !== (void 0 === a ? "undefined" : e(a)) || 1 !== a.nodeType) throw new Error('Invalid "target" value, use a valid Element');
							if ("copy" === this.action && a.hasAttribute("disabled")) throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
							if ("cut" === this.action && (a.hasAttribute("readonly") || a.hasAttribute("disabled"))) throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');
							this._target = a
						}
					},
					get: function() {
						return this._target
					}
				}]), a
			}();
			a.exports = g
		})
	}, function(a, b, c) {
		function d(a, b, c) {
			if (!a && !b && !c) throw new Error("Missing required arguments");
			if (!h.string(b)) throw new TypeError("Second argument must be a String");
			if (!h.fn(c)) throw new TypeError("Third argument must be a Function");
			if (h.node(a)) return e(a, b, c);
			if (h.nodeList(a)) return f(a, b, c);
			if (h.string(a)) return g(a, b, c);
			throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")
		}
		function e(a, b, c) {
			return a.addEventListener(b, c), {
				destroy: function() {
					a.removeEventListener(b, c)
				}
			}
		}
		function f(a, b, c) {
			return Array.prototype.forEach.call(a, function(a) {
				a.addEventListener(b, c)
			}), {
				destroy: function() {
					Array.prototype.forEach.call(a, function(a) {
						a.removeEventListener(b, c)
					})
				}
			}
		}
		function g(a, b, c) {
			return i(document.body, a, b, c)
		}
		var h = c(6),
			i = c(5);
		a.exports = d
	}, function(a, b) {
		function c() {}
		c.prototype = {
			on: function(a, b, c) {
				var d = this.e || (this.e = {});
				return (d[a] || (d[a] = [])).push({
					fn: b,
					ctx: c
				}), this
			},
			once: function(a, b, c) {
				function d() {
					e.off(a, d), b.apply(c, arguments)
				}
				var e = this;
				return d._ = b, this.on(a, d, c)
			},
			emit: function(a) {
				var b = [].slice.call(arguments, 1),
					c = ((this.e || (this.e = {}))[a] || []).slice(),
					d = 0,
					e = c.length;
				for (d; e > d; d++) c[d].fn.apply(c[d].ctx, b);
				return this
			},
			off: function(a, b) {
				var c = this.e || (this.e = {}),
					d = c[a],
					e = [];
				if (d && b) for (var f = 0, g = d.length; g > f; f++) d[f].fn !== b && d[f].fn._ !== b && e.push(d[f]);
				return e.length ? c[a] = e : delete c[a], this
			}
		}, a.exports = c
	}, function(a, b, c) {
		var d, e, f;
		!
		function(g, h) {
			e = [a, c(0), c(2), c(1)], d = h, void 0 !== (f = "function" == typeof d ? d.apply(b, e) : d) && (a.exports = f)
		}(0, function(a, b, c, d) {
			"use strict";

			function e(a) {
				return a && a.__esModule ? a : {
					"default": a
				}
			}
			function f(a, b) {
				if (!(a instanceof b)) throw new TypeError("Cannot call a class as a function")
			}
			function g(a, b) {
				if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
				return !b || "object" != typeof b && "function" != typeof b ? a : b
			}
			function h(a, b) {
				if ("function" != typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
				a.prototype = Object.create(b && b.prototype, {
					constructor: {
						value: a,
						enumerable: !1,
						writable: !0,
						configurable: !0
					}
				}), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
			}
			function i(a, b) {
				var c = "data-clipboard-" + a;
				return b.hasAttribute(c) ? b.getAttribute(c) : void 0
			}
			var j = e(b),
				k = e(c),
				l = e(d),
				m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
			function(a) {
				return typeof a
			} : function(a) {
				return a && "function" == typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ? "symbol" : typeof a
			}, n = function() {
				function a(a, b) {
					for (var c = 0; c < b.length; c++) {
						var d = b[c];
						d.enumerable = d.enumerable || !1, d.configurable = !0, "value" in d && (d.writable = !0), Object.defineProperty(a, d.key, d)
					}
				}
				return function(b, c, d) {
					return c && a(b.prototype, c), d && a(b, d), b
				}
			}(), o = function(a) {
				function b(a, c) {
					f(this, b);
					var d = g(this, (b.__proto__ || Object.getPrototypeOf(b)).call(this));
					return d.resolveOptions(c), d.listenClick(a), d
				}
				return h(b, a), n(b, [{
					key: "resolveOptions",
					value: function() {
						var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
						this.action = "function" == typeof a.action ? a.action : this.defaultAction, this.target = "function" == typeof a.target ? a.target : this.defaultTarget, this.text = "function" == typeof a.text ? a.text : this.defaultText, this.container = "object" === m(a.container) ? a.container : document.body
					}
				}, {
					key: "listenClick",
					value: function(a) {
						var b = this;
						this.listener = l["default"](a, "click", function(a) {
							return b.onClick(a)
						})
					}
				}, {
					key: "onClick",
					value: function(a) {
						var b = a.delegateTarget || a.currentTarget;
						this.clipboardAction && (this.clipboardAction = null), this.clipboardAction = new j["default"]({
							action: this.action(b),
							target: this.target(b),
							text: this.text(b),
							container: this.container,
							trigger: b,
							emitter: this
						})
					}
				}, {
					key: "defaultAction",
					value: function(a) {
						return i("action", a)
					}
				}, {
					key: "defaultTarget",
					value: function(a) {
						var b = i("target", a);
						return b ? document.querySelector(b) : void 0
					}
				}, {
					key: "defaultText",
					value: function(a) {
						return i("text", a)
					}
				}, {
					key: "destroy",
					value: function() {
						this.listener.destroy(), this.clipboardAction && (this.clipboardAction.destroy(), this.clipboardAction = null)
					}
				}], [{
					key: "isSupported",
					value: function() {
						var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ["copy", "cut"],
							b = "string" == typeof a ? [a] : a,
							c = !! document.queryCommandSupported;
						return b.forEach(function(a) {
							c = c && !! document.queryCommandSupported(a)
						}), c
					}
				}]), b
			}(k["default"]);
			a.exports = o
		})
	}, function(a, b) {
		function c(a, b) {
			for (; a && a.nodeType !== d;) {
				if ("function" == typeof a.matches && a.matches(b)) return a;
				a = a.parentNode
			}
		}
		var d = 9;
		if ("undefined" != typeof Element && !Element.prototype.matches) {
			var e = Element.prototype;
			e.matches = e.matchesSelector || e.mozMatchesSelector || e.msMatchesSelector || e.oMatchesSelector || e.webkitMatchesSelector
		}
		a.exports = c
	}, function(a, b, c) {
		function d(a, b, c, d, e) {
			var g = f.apply(this, arguments);
			return a.addEventListener(c, g, e), {
				destroy: function() {
					a.removeEventListener(c, g, e)
				}
			}
		}
		function e(a, b, c, e, f) {
			return "function" == typeof a.addEventListener ? d.apply(null, arguments) : "function" == typeof c ? d.bind(null, document).apply(null, arguments) : ("string" == typeof a && (a = document.querySelectorAll(a)), Array.prototype.map.call(a, function(a) {
				return d(a, b, c, e, f)
			}))
		}
		function f(a, b, c, d) {
			return function(c) {
				c.delegateTarget = g(c.target, b), c.delegateTarget && d.call(a, c)
			}
		}
		var g = c(4);
		a.exports = e
	}, function(a, b) {
		b.node = function(a) {
			return void 0 !== a && a instanceof HTMLElement && 1 === a.nodeType
		}, b.nodeList = function(a) {
			var c = Object.prototype.toString.call(a);
			return void 0 !== a && ("[object NodeList]" === c || "[object HTMLCollection]" === c) && "length" in a && (0 === a.length || b.node(a[0]))
		}, b.string = function(a) {
			return "string" == typeof a || a instanceof String
		}, b.fn = function(a) {
			return "[object Function]" === Object.prototype.toString.call(a)
		}
	}, function(a, b) {
		function c(a) {
			var b;
			if ("SELECT" === a.nodeName) a.focus(), b = a.value;
			else if ("INPUT" === a.nodeName || "TEXTAREA" === a.nodeName) {
				var c = a.hasAttribute("readonly");
				c || a.setAttribute("readonly", ""), a.select(), a.setSelectionRange(0, a.value.length), c || a.removeAttribute("readonly"), b = a.value
			} else {
				a.hasAttribute("contenteditable") && a.focus();
				var d = window.getSelection(),
					e = document.createRange();
				e.selectNodeContents(a), d.removeAllRanges(), d.addRange(e), b = d.toString()
			}
			return b
		}
		a.exports = c
	}])
}), !
function(a) {
	"use strict";

	function b(b, c, d, e) {
		function f(a, b) {
			return a -= e, b -= e, 0 > a || a >= j || 0 > b || b >= j ? !1 : i.isDark(a, b)
		}
		function g(a, b, c, d) {
			var e = h.isDark,
				f = 1 / k;
			h.isDark = function(g, h) {
				var i = h * f,
					j = g * f,
					k = i + f,
					l = j + f;
				return e(g, h) && (a > k || i > c || b > l || j > d)
			}
		}
		var h = {},
			i = a(d, c);
		i.addData(b), i.make(), e = e || 0;
		var j = i.getModuleCount(),
			k = i.getModuleCount() + 2 * e;
		return h.text = b, h.level = c, h.version = d, h.moduleCount = k, h.isDark = f, h.addBlank = g, h
	}
	function c(a, c, d, e, f) {
		d = Math.max(1, d || 1), e = Math.min(40, e || 40);
		for (var g = d; e >= g; g += 1) try {
			return b(a, c, g, f)
		} catch (h) {}
	}
	function d(a, b, c) {
		var d = c.size,
			e = "bold " + c.mSize * d + "px " + c.fontname,
			f = q("<canvas/>")[0].getContext("2d");
		f.font = e;
		var g = f.measureText(c.label).width,
			h = c.mSize,
			i = g / d,
			j = (1 - i) * c.mPosX,
			k = (1 - h) * c.mPosY,
			l = j + i,
			m = k + h,
			n = .01;
		1 === c.mode ? a.addBlank(0, k - n, d, m + n) : a.addBlank(j - n, k - n, l + n, m + n), b.fillStyle = c.fontcolor, b.font = e, b.fillText(c.label, j * d, k * d + .75 * c.mSize * d)
	}
	function e(a, b, c) {
		var d = c.size,
			e = c.image.naturalWidth || 1,
			f = c.image.naturalHeight || 1,
			g = c.mSize,
			h = g * e / f,
			i = (1 - h) * c.mPosX,
			j = (1 - g) * c.mPosY,
			k = i + h,
			l = j + g,
			m = .01;
		3 === c.mode ? a.addBlank(0, j - m, d, l + m) : a.addBlank(i - m, j - m, k + m, l + m), b.drawImage(c.image, i * d, j * d, h * d, g * d)
	}
	function f(a, b, c) {
		q(c.background).is("img") ? b.drawImage(c.background, 0, 0, c.size, c.size) : c.background && (b.fillStyle = c.background, b.fillRect(c.left, c.top, c.size, c.size));
		var f = c.mode;
		1 === f || 2 === f ? d(a, b, c) : (3 === f || 4 === f) && e(a, b, c)
	}
	function g(a, b, c, d, e, f, g, h) {
		a.isDark(g, h) && b.rect(d, e, f, f)
	}
	function h(a, b, c, d, e, f, g, h, i, j) {
		g ? a.moveTo(b + f, c) : a.moveTo(b, c), h ? (a.lineTo(d - f, c), a.arcTo(d, c, d, e, f)) : a.lineTo(d, c), i ? (a.lineTo(d, e - f), a.arcTo(d, e, b, e, f)) : a.lineTo(d, e), j ? (a.lineTo(b + f, e), a.arcTo(b, e, b, c, f)) : a.lineTo(b, e), g ? (a.lineTo(b, c + f), a.arcTo(b, c, d, c, f)) : a.lineTo(b, c)
	}
	function i(a, b, c, d, e, f, g, h, i, j) {
		g && (a.moveTo(b + f, c), a.lineTo(b, c), a.lineTo(b, c + f), a.arcTo(b, c, b + f, c, f)), h && (a.moveTo(d - f, c), a.lineTo(d, c), a.lineTo(d, c + f), a.arcTo(d, c, d - f, c, f)), i && (a.moveTo(d - f, e), a.lineTo(d, e), a.lineTo(d, e - f), a.arcTo(d, e, d - f, e, f)), j && (a.moveTo(b + f, e), a.lineTo(b, e), a.lineTo(b, e - f), a.arcTo(b, e, b + f, e, f))
	}
	function j(a, b, c, d, e, f, g, j) {
		var k = a.isDark,
			l = d + f,
			m = e + f,
			n = c.radius * f,
			o = g - 1,
			p = g + 1,
			q = j - 1,
			r = j + 1,
			s = k(g, j),
			t = k(o, q),
			u = k(o, j),
			v = k(o, r),
			w = k(g, r),
			x = k(p, r),
			y = k(p, j),
			z = k(p, q),
			A = k(g, q);
		s ? h(b, d, e, l, m, n, !u && !A, !u && !w, !y && !w, !y && !A) : i(b, d, e, l, m, n, u && A && t, u && w && v, y && w && x, y && A && z)
	}
	function k(a, b, c) {
		var d, e, f = a.moduleCount,
			h = c.size / f,
			i = g;
		for (c.radius > 0 && c.radius <= .5 && (i = j), b.beginPath(), d = 0; f > d; d += 1) for (e = 0; f > e; e += 1) {
			var k = c.left + e * h,
				l = c.top + d * h,
				m = h;
			i(a, b, c, k, l, m, d, e)
		}
		if (q(c.fill).is("img")) {
			b.strokeStyle = "rgba(0,0,0,0.5)", b.lineWidth = 2, b.stroke();
			var n = b.globalCompositeOperation;
			b.globalCompositeOperation = "destination-out", b.fill(), b.globalCompositeOperation = n, b.clip(), b.drawImage(c.fill, 0, 0, c.size, c.size), b.restore()
		} else b.fillStyle = c.fill, b.fill()
	}
	function l(a, b) {
		var d = c(b.text, b.ecLevel, b.minVersion, b.maxVersion, b.quiet);
		if (!d) return null;
		var e = q(a).data("qrcode", d),
			g = e[0].getContext("2d");
		return f(d, g, b), k(d, g, b), e
	}
	function m(a) {
		var b = q("<canvas/>").attr("width", a.size).attr("height", a.size);
		return l(b, a)
	}
	function n(a) {
		return q("<img/>").attr("src", m(a)[0].toDataURL("image/png"))
	}
	function o(a) {
		var b = c(a.text, a.ecLevel, a.minVersion, a.maxVersion, a.quiet);
		if (!b) return null;
		var d, e, f = a.size,
			g = a.background,
			h = Math.floor,
			i = b.moduleCount,
			j = h(f / i),
			k = h(.5 * (f - j * i)),
			l = {
				position: "relative",
				left: 0,
				top: 0,
				padding: 0,
				margin: 0,
				width: f,
				height: f
			},
			m = {
				position: "absolute",
				padding: 0,
				margin: 0,
				width: j,
				height: j,
				"background-color": a.fill
			},
			n = q("<div/>").data("qrcode", b).css(l);
		for (g && n.css("background-color", g), d = 0; i > d; d += 1) for (e = 0; i > e; e += 1) b.isDark(d, e) && q("<div/>").css(m).css({
			left: k + e * j,
			top: k + d * j
		}).appendTo(n);
		return n
	}
	function p(a) {
		return r && "canvas" === a.render ? m(a) : r && "image" === a.render ? n(a) : o(a)
	}
	var q = window.jQuery,
		r = function() {
			var a = document.createElement("canvas");
			return !(!a.getContext || !a.getContext("2d"))
		}(),
		s = {
			render: "canvas",
			minVersion: 1,
			maxVersion: 40,
			ecLevel: "L",
			left: 0,
			top: 0,
			size: 200,
			fill: "#000",
			background: null,
			text: "no text",
			radius: 0,
			quiet: 0,
			mode: 0,
			mSize: .1,
			mPosX: .5,
			mPosY: .5,
			label: "no label",
			fontname: "sans",
			fontcolor: "#000",
			image: null
		};
	q.fn.qrcode = function(a) {
		var b = q.extend({}, s, a);
		return this.each(function(a, c) {
			"canvas" === c.nodeName.toLowerCase() ? l(c, b) : q(c).append(p(b))
		})
	}
}(function() {
	var a = function() {
			function a(b, c) {
				if ("undefined" == typeof b.length) throw new Error(b.length + "/" + c);
				var d = function() {
						for (var a = 0; a < b.length && 0 == b[a];) a += 1;
						for (var d = new Array(b.length - a + c), e = 0; e < b.length - a; e += 1) d[e] = b[e + a];
						return d
					}(),
					e = {};
				return e.getAt = function(a) {
					return d[a]
				}, e.getLength = function() {
					return d.length
				}, e.multiply = function(b) {
					for (var c = new Array(e.getLength() + b.getLength() - 1), d = 0; d < e.getLength(); d += 1) for (var f = 0; f < b.getLength(); f += 1) c[d + f] ^= g.gexp(g.glog(e.getAt(d)) + g.glog(b.getAt(f)));
					return a(c, 0)
				}, e.mod = function(b) {
					if (e.getLength() - b.getLength() < 0) return e;
					for (var c = g.glog(e.getAt(0)) - g.glog(b.getAt(0)), d = new Array(e.getLength()), f = 0; f < e.getLength(); f += 1) d[f] = e.getAt(f);
					for (var f = 0; f < b.getLength(); f += 1) d[f] ^= g.gexp(g.glog(b.getAt(f)) + c);
					return a(d, 0).mod(b)
				}, e
			}
			var b = function(b, c) {
					var e = 236,
						g = 17,
						k = b,
						l = d[c],
						m = null,
						n = 0,
						p = null,
						q = new Array,
						r = {},
						s = function(a, b) {
							n = 4 * k + 17, m = function(a) {
								for (var b = new Array(a), c = 0; a > c; c += 1) {
									b[c] = new Array(a);
									for (var d = 0; a > d; d += 1) b[c][d] = null
								}
								return b
							}(n), t(0, 0), t(n - 7, 0), t(0, n - 7), w(), v(), y(a, b), k >= 7 && x(a), null == p && (p = B(k, l, q)), z(p, b)
						},
						t = function(a, b) {
							for (var c = -1; 7 >= c; c += 1) if (!(-1 >= a + c || a + c >= n)) for (var d = -1; 7 >= d; d += 1) - 1 >= b + d || b + d >= n || (c >= 0 && 6 >= c && (0 == d || 6 == d) || d >= 0 && 6 >= d && (0 == c || 6 == c) || c >= 2 && 4 >= c && d >= 2 && 4 >= d ? m[a + c][b + d] = !0 : m[a + c][b + d] = !1)
						},
						u = function() {
							for (var a = 0, b = 0, c = 0; 8 > c; c += 1) {
								s(!0, c);
								var d = f.getLostPoint(r);
								(0 == c || a > d) && (a = d, b = c)
							}
							return b
						},
						v = function() {
							for (var a = 8; n - 8 > a; a += 1) null == m[a][6] && (m[a][6] = a % 2 == 0);
							for (var b = 8; n - 8 > b; b += 1) null == m[6][b] && (m[6][b] = b % 2 == 0)
						},
						w = function() {
							for (var a = f.getPatternPosition(k), b = 0; b < a.length; b += 1) for (var c = 0; c < a.length; c += 1) {
								var d = a[b],
									e = a[c];
								if (null == m[d][e]) for (var g = -2; 2 >= g; g += 1) for (var h = -2; 2 >= h; h += 1) - 2 == g || 2 == g || -2 == h || 2 == h || 0 == g && 0 == h ? m[d + g][e + h] = !0 : m[d + g][e + h] = !1
							}
						},
						x = function(a) {
							for (var b = f.getBCHTypeNumber(k), c = 0; 18 > c; c += 1) {
								var d = !a && 1 == (b >> c & 1);
								m[Math.floor(c / 3)][c % 3 + n - 8 - 3] = d
							}
							for (var c = 0; 18 > c; c += 1) {
								var d = !a && 1 == (b >> c & 1);
								m[c % 3 + n - 8 - 3][Math.floor(c / 3)] = d
							}
						},
						y = function(a, b) {
							for (var c = l << 3 | b, d = f.getBCHTypeInfo(c), e = 0; 15 > e; e += 1) {
								var g = !a && 1 == (d >> e & 1);
								6 > e ? m[e][8] = g : 8 > e ? m[e + 1][8] = g : m[n - 15 + e][8] = g
							}
							for (var e = 0; 15 > e; e += 1) {
								var g = !a && 1 == (d >> e & 1);
								8 > e ? m[8][n - e - 1] = g : 9 > e ? m[8][15 - e - 1 + 1] = g : m[8][15 - e - 1] = g
							}
							m[n - 8][8] = !a
						},
						z = function(a, b) {
							for (var c = -1, d = n - 1, e = 7, g = 0, h = f.getMaskFunction(b), i = n - 1; i > 0; i -= 2) for (6 == i && (i -= 1);;) {
								for (var j = 0; 2 > j; j += 1) if (null == m[d][i - j]) {
									var k = !1;
									g < a.length && (k = 1 == (a[g] >>> e & 1));
									var l = h(d, i - j);
									l && (k = !k), m[d][i - j] = k, e -= 1, -1 == e && (g += 1, e = 7)
								}
								if (d += c, 0 > d || d >= n) {
									d -= c, c = -c;
									break
								}
							}
						},
						A = function(b, c) {
							for (var d = 0, e = 0, g = 0, h = new Array(c.length), i = new Array(c.length), j = 0; j < c.length; j += 1) {
								var k = c[j].dataCount,
									l = c[j].totalCount - k;
								e = Math.max(e, k), g = Math.max(g, l), h[j] = new Array(k);
								for (var m = 0; m < h[j].length; m += 1) h[j][m] = 255 & b.getBuffer()[m + d];
								d += k;
								var n = f.getErrorCorrectPolynomial(l),
									o = a(h[j], n.getLength() - 1),
									p = o.mod(n);
								i[j] = new Array(n.getLength() - 1);
								for (var m = 0; m < i[j].length; m += 1) {
									var q = m + p.getLength() - i[j].length;
									i[j][m] = q >= 0 ? p.getAt(q) : 0
								}
							}
							for (var r = 0, m = 0; m < c.length; m += 1) r += c[m].totalCount;
							for (var s = new Array(r), t = 0, m = 0; e > m; m += 1) for (var j = 0; j < c.length; j += 1) m < h[j].length && (s[t] = h[j][m], t += 1);
							for (var m = 0; g > m; m += 1) for (var j = 0; j < c.length; j += 1) m < i[j].length && (s[t] = i[j][m], t += 1);
							return s
						},
						B = function(a, b, c) {
							for (var d = h.getRSBlocks(a, b), j = i(), k = 0; k < c.length; k += 1) {
								var l = c[k];
								j.put(l.getMode(), 4), j.put(l.getLength(), f.getLengthInBits(l.getMode(), a)), l.write(j)
							}
							for (var m = 0, k = 0; k < d.length; k += 1) m += d[k].dataCount;
							if (j.getLengthInBits() > 8 * m) throw new Error("code length overflow. (" + j.getLengthInBits() + ">" + 8 * m + ")");
							for (j.getLengthInBits() + 4 <= 8 * m && j.put(0, 4); j.getLengthInBits() % 8 != 0;) j.putBit(!1);
							for (; !(j.getLengthInBits() >= 8 * m) && (j.put(e, 8), !(j.getLengthInBits() >= 8 * m));) j.put(g, 8);
							return A(j, d)
						};
					return r.addData = function(a) {
						var b = j(a);
						q.push(b), p = null
					}, r.isDark = function(a, b) {
						if (0 > a || a >= n || 0 > b || b >= n) throw new Error(a + "," + b);
						return m[a][b]
					}, r.getModuleCount = function() {
						return n
					}, r.make = function() {
						s(!1, u())
					}, r.createTableTag = function(a, b) {
						a = a || 2, b = "undefined" == typeof b ? 4 * a : b;
						var c = "";
						c += '<table style="', c += " border-width: 0px; border-style: none;", c += " border-collapse: collapse;", c += " padding: 0px; margin: " + b + "px;", c += '">', c += "<tbody>";
						for (var d = 0; d < r.getModuleCount(); d += 1) {
							c += "<tr>";
							for (var e = 0; e < r.getModuleCount(); e += 1) c += '<td style="', c += " border-width: 0px; border-style: none;", c += " border-collapse: collapse;", c += " padding: 0px; margin: 0px;", c += " width: " + a + "px;", c += " height: " + a + "px;", c += " background-color: ", c += r.isDark(d, e) ? "#000000" : "#ffffff", c += ";", c += '"/>';
							c += "</tr>"
						}
						return c += "</tbody>", c += "</table>"
					}, r.createImgTag = function(a, b) {
						a = a || 2, b = "undefined" == typeof b ? 4 * a : b;
						var c = r.getModuleCount() * a + 2 * b,
							d = b,
							e = c - b;
						return o(c, c, function(b, c) {
							if (b >= d && e > b && c >= d && e > c) {
								var f = Math.floor((b - d) / a),
									g = Math.floor((c - d) / a);
								return r.isDark(g, f) ? 0 : 1
							}
							return 1
						})
					}, r
				};
			b.stringToBytes = function(a) {
				for (var b = new Array, c = 0; c < a.length; c += 1) {
					var d = a.charCodeAt(c);
					b.push(255 & d)
				}
				return b
			}, b.createStringToBytes = function(a, b) {
				var c = function() {
						for (var c = m(a), d = function() {
								var a = c.read();
								if (-1 == a) throw new Error;
								return a
							}, e = 0, f = {};;) {
							var g = c.read();
							if (-1 == g) break;
							var h = d(),
								i = d(),
								j = d(),
								k = String.fromCharCode(g << 8 | h),
								l = i << 8 | j;
							f[k] = l, e += 1
						}
						if (e != b) throw new Error(e + " != " + b);
						return f
					}(),
					d = "?".charCodeAt(0);
				return function(a) {
					for (var b = new Array, e = 0; e < a.length; e += 1) {
						var f = a.charCodeAt(e);
						if (128 > f) b.push(f);
						else {
							var g = c[a.charAt(e)];
							"number" == typeof g ? (255 & g) == g ? b.push(g) : (b.push(g >>> 8), b.push(255 & g)) : b.push(d)
						}
					}
					return b
				}
			};
			var c = {
				MODE_NUMBER: 1,
				MODE_ALPHA_NUM: 2,
				MODE_8BIT_BYTE: 4,
				MODE_KANJI: 8
			},
				d = {
					L: 1,
					M: 0,
					Q: 3,
					H: 2
				},
				e = {
					PATTERN000: 0,
					PATTERN001: 1,
					PATTERN010: 2,
					PATTERN011: 3,
					PATTERN100: 4,
					PATTERN101: 5,
					PATTERN110: 6,
					PATTERN111: 7
				},
				f = function() {
					var b = [
						[],
						[6, 18],
						[6, 22],
						[6, 26],
						[6, 30],
						[6, 34],
						[6, 22, 38],
						[6, 24, 42],
						[6, 26, 46],
						[6, 28, 50],
						[6, 30, 54],
						[6, 32, 58],
						[6, 34, 62],
						[6, 26, 46, 66],
						[6, 26, 48, 70],
						[6, 26, 50, 74],
						[6, 30, 54, 78],
						[6, 30, 56, 82],
						[6, 30, 58, 86],
						[6, 34, 62, 90],
						[6, 28, 50, 72, 94],
						[6, 26, 50, 74, 98],
						[6, 30, 54, 78, 102],
						[6, 28, 54, 80, 106],
						[6, 32, 58, 84, 110],
						[6, 30, 58, 86, 114],
						[6, 34, 62, 90, 118],
						[6, 26, 50, 74, 98, 122],
						[6, 30, 54, 78, 102, 126],
						[6, 26, 52, 78, 104, 130],
						[6, 30, 56, 82, 108, 134],
						[6, 34, 60, 86, 112, 138],
						[6, 30, 58, 86, 114, 142],
						[6, 34, 62, 90, 118, 146],
						[6, 30, 54, 78, 102, 126, 150],
						[6, 24, 50, 76, 102, 128, 154],
						[6, 28, 54, 80, 106, 132, 158],
						[6, 32, 58, 84, 110, 136, 162],
						[6, 26, 54, 82, 110, 138, 166],
						[6, 30, 58, 86, 114, 142, 170]
					],
						d = 1335,
						f = 7973,
						h = 21522,
						i = {},
						j = function(a) {
							for (var b = 0; 0 != a;) b += 1, a >>>= 1;
							return b
						};
					return i.getBCHTypeInfo = function(a) {
						for (var b = a << 10; j(b) - j(d) >= 0;) b ^= d << j(b) - j(d);
						return (a << 10 | b) ^ h
					}, i.getBCHTypeNumber = function(a) {
						for (var b = a << 12; j(b) - j(f) >= 0;) b ^= f << j(b) - j(f);
						return a << 12 | b
					}, i.getPatternPosition = function(a) {
						return b[a - 1]
					}, i.getMaskFunction = function(a) {
						switch (a) {
						case e.PATTERN000:
							return function(a, b) {
								return (a + b) % 2 == 0
							};
						case e.PATTERN001:
							return function(a, b) {
								return a % 2 == 0
							};
						case e.PATTERN010:
							return function(a, b) {
								return b % 3 == 0
							};
						case e.PATTERN011:
							return function(a, b) {
								return (a + b) % 3 == 0
							};
						case e.PATTERN100:
							return function(a, b) {
								return (Math.floor(a / 2) + Math.floor(b / 3)) % 2 == 0
							};
						case e.PATTERN101:
							return function(a, b) {
								return a * b % 2 + a * b % 3 == 0
							};
						case e.PATTERN110:
							return function(a, b) {
								return (a * b % 2 + a * b % 3) % 2 == 0
							};
						case e.PATTERN111:
							return function(a, b) {
								return (a * b % 3 + (a + b) % 2) % 2 == 0
							};
						default:
							throw new Error("bad maskPattern:" + a)
						}
					}, i.getErrorCorrectPolynomial = function(b) {
						for (var c = a([1], 0), d = 0; b > d; d += 1) c = c.multiply(a([1, g.gexp(d)], 0));
						return c
					}, i.getLengthInBits = function(a, b) {
						if (b >= 1 && 10 > b) switch (a) {
						case c.MODE_NUMBER:
							return 10;
						case c.MODE_ALPHA_NUM:
							return 9;
						case c.MODE_8BIT_BYTE:
							return 8;
						case c.MODE_KANJI:
							return 8;
						default:
							throw new Error("mode:" + a)
						} else if (27 > b) switch (a) {
						case c.MODE_NUMBER:
							return 12;
						case c.MODE_ALPHA_NUM:
							return 11;
						case c.MODE_8BIT_BYTE:
							return 16;
						case c.MODE_KANJI:
							return 10;
						default:
							throw new Error("mode:" + a)
						} else {
							if (!(41 > b)) throw new Error("type:" + b);
							switch (a) {
							case c.MODE_NUMBER:
								return 14;
							case c.MODE_ALPHA_NUM:
								return 13;
							case c.MODE_8BIT_BYTE:
								return 16;
							case c.MODE_KANJI:
								return 12;
							default:
								throw new Error("mode:" + a)
							}
						}
					}, i.getLostPoint = function(a) {
						for (var b = a.getModuleCount(), c = 0, d = 0; b > d; d += 1) for (var e = 0; b > e; e += 1) {
							for (var f = 0, g = a.isDark(d, e), h = -1; 1 >= h; h += 1) if (!(0 > d + h || d + h >= b)) for (var i = -1; 1 >= i; i += 1) 0 > e + i || e + i >= b || (0 != h || 0 != i) && g == a.isDark(d + h, e + i) && (f += 1);
							f > 5 && (c += 3 + f - 5)
						}
						for (var d = 0; b - 1 > d; d += 1) for (var e = 0; b - 1 > e; e += 1) {
							var j = 0;
							a.isDark(d, e) && (j += 1), a.isDark(d + 1, e) && (j += 1), a.isDark(d, e + 1) && (j += 1), a.isDark(d + 1, e + 1) && (j += 1), (0 == j || 4 == j) && (c += 3)
						}
						for (var d = 0; b > d; d += 1) for (var e = 0; b - 6 > e; e += 1) a.isDark(d, e) && !a.isDark(d, e + 1) && a.isDark(d, e + 2) && a.isDark(d, e + 3) && a.isDark(d, e + 4) && !a.isDark(d, e + 5) && a.isDark(d, e + 6) && (c += 40);
						for (var e = 0; b > e; e += 1) for (var d = 0; b - 6 > d; d += 1) a.isDark(d, e) && !a.isDark(d + 1, e) && a.isDark(d + 2, e) && a.isDark(d + 3, e) && a.isDark(d + 4, e) && !a.isDark(d + 5, e) && a.isDark(d + 6, e) && (c += 40);
						for (var k = 0, e = 0; b > e; e += 1) for (var d = 0; b > d; d += 1) a.isDark(d, e) && (k += 1);
						var l = Math.abs(100 * k / b / b - 50) / 5;
						return c += 10 * l
					}, i
				}(),
				g = function() {
					for (var a = new Array(256), b = new Array(256), c = 0; 8 > c; c += 1) a[c] = 1 << c;
					for (var c = 8; 256 > c; c += 1) a[c] = a[c - 4] ^ a[c - 5] ^ a[c - 6] ^ a[c - 8];
					for (var c = 0; 255 > c; c += 1) b[a[c]] = c;
					var d = {};
					return d.glog = function(a) {
						if (1 > a) throw new Error("glog(" + a + ")");
						return b[a]
					}, d.gexp = function(b) {
						for (; 0 > b;) b += 255;
						for (; b >= 256;) b -= 255;
						return a[b]
					}, d
				}(),
				h = function() {
					var a = [
						[1, 26, 19],
						[1, 26, 16],
						[1, 26, 13],
						[1, 26, 9],
						[1, 44, 34],
						[1, 44, 28],
						[1, 44, 22],
						[1, 44, 16],
						[1, 70, 55],
						[1, 70, 44],
						[2, 35, 17],
						[2, 35, 13],
						[1, 100, 80],
						[2, 50, 32],
						[2, 50, 24],
						[4, 25, 9],
						[1, 134, 108],
						[2, 67, 43],
						[2, 33, 15, 2, 34, 16],
						[2, 33, 11, 2, 34, 12],
						[2, 86, 68],
						[4, 43, 27],
						[4, 43, 19],
						[4, 43, 15],
						[2, 98, 78],
						[4, 49, 31],
						[2, 32, 14, 4, 33, 15],
						[4, 39, 13, 1, 40, 14],
						[2, 121, 97],
						[2, 60, 38, 2, 61, 39],
						[4, 40, 18, 2, 41, 19],
						[4, 40, 14, 2, 41, 15],
						[2, 146, 116],
						[3, 58, 36, 2, 59, 37],
						[4, 36, 16, 4, 37, 17],
						[4, 36, 12, 4, 37, 13],
						[2, 86, 68, 2, 87, 69],
						[4, 69, 43, 1, 70, 44],
						[6, 43, 19, 2, 44, 20],
						[6, 43, 15, 2, 44, 16],
						[4, 101, 81],
						[1, 80, 50, 4, 81, 51],
						[4, 50, 22, 4, 51, 23],
						[3, 36, 12, 8, 37, 13],
						[2, 116, 92, 2, 117, 93],
						[6, 58, 36, 2, 59, 37],
						[4, 46, 20, 6, 47, 21],
						[7, 42, 14, 4, 43, 15],
						[4, 133, 107],
						[8, 59, 37, 1, 60, 38],
						[8, 44, 20, 4, 45, 21],
						[12, 33, 11, 4, 34, 12],
						[3, 145, 115, 1, 146, 116],
						[4, 64, 40, 5, 65, 41],
						[11, 36, 16, 5, 37, 17],
						[11, 36, 12, 5, 37, 13],
						[5, 109, 87, 1, 110, 88],
						[5, 65, 41, 5, 66, 42],
						[5, 54, 24, 7, 55, 25],
						[11, 36, 12, 7, 37, 13],
						[5, 122, 98, 1, 123, 99],
						[7, 73, 45, 3, 74, 46],
						[15, 43, 19, 2, 44, 20],
						[3, 45, 15, 13, 46, 16],
						[1, 135, 107, 5, 136, 108],
						[10, 74, 46, 1, 75, 47],
						[1, 50, 22, 15, 51, 23],
						[2, 42, 14, 17, 43, 15],
						[5, 150, 120, 1, 151, 121],
						[9, 69, 43, 4, 70, 44],
						[17, 50, 22, 1, 51, 23],
						[2, 42, 14, 19, 43, 15],
						[3, 141, 113, 4, 142, 114],
						[3, 70, 44, 11, 71, 45],
						[17, 47, 21, 4, 48, 22],
						[9, 39, 13, 16, 40, 14],
						[3, 135, 107, 5, 136, 108],
						[3, 67, 41, 13, 68, 42],
						[15, 54, 24, 5, 55, 25],
						[15, 43, 15, 10, 44, 16],
						[4, 144, 116, 4, 145, 117],
						[17, 68, 42],
						[17, 50, 22, 6, 51, 23],
						[19, 46, 16, 6, 47, 17],
						[2, 139, 111, 7, 140, 112],
						[17, 74, 46],
						[7, 54, 24, 16, 55, 25],
						[34, 37, 13],
						[4, 151, 121, 5, 152, 122],
						[4, 75, 47, 14, 76, 48],
						[11, 54, 24, 14, 55, 25],
						[16, 45, 15, 14, 46, 16],
						[6, 147, 117, 4, 148, 118],
						[6, 73, 45, 14, 74, 46],
						[11, 54, 24, 16, 55, 25],
						[30, 46, 16, 2, 47, 17],
						[8, 132, 106, 4, 133, 107],
						[8, 75, 47, 13, 76, 48],
						[7, 54, 24, 22, 55, 25],
						[22, 45, 15, 13, 46, 16],
						[10, 142, 114, 2, 143, 115],
						[19, 74, 46, 4, 75, 47],
						[28, 50, 22, 6, 51, 23],
						[33, 46, 16, 4, 47, 17],
						[8, 152, 122, 4, 153, 123],
						[22, 73, 45, 3, 74, 46],
						[8, 53, 23, 26, 54, 24],
						[12, 45, 15, 28, 46, 16],
						[3, 147, 117, 10, 148, 118],
						[3, 73, 45, 23, 74, 46],
						[4, 54, 24, 31, 55, 25],
						[11, 45, 15, 31, 46, 16],
						[7, 146, 116, 7, 147, 117],
						[21, 73, 45, 7, 74, 46],
						[1, 53, 23, 37, 54, 24],
						[19, 45, 15, 26, 46, 16],
						[5, 145, 115, 10, 146, 116],
						[19, 75, 47, 10, 76, 48],
						[15, 54, 24, 25, 55, 25],
						[23, 45, 15, 25, 46, 16],
						[13, 145, 115, 3, 146, 116],
						[2, 74, 46, 29, 75, 47],
						[42, 54, 24, 1, 55, 25],
						[23, 45, 15, 28, 46, 16],
						[17, 145, 115],
						[10, 74, 46, 23, 75, 47],
						[10, 54, 24, 35, 55, 25],
						[19, 45, 15, 35, 46, 16],
						[17, 145, 115, 1, 146, 116],
						[14, 74, 46, 21, 75, 47],
						[29, 54, 24, 19, 55, 25],
						[11, 45, 15, 46, 46, 16],
						[13, 145, 115, 6, 146, 116],
						[14, 74, 46, 23, 75, 47],
						[44, 54, 24, 7, 55, 25],
						[59, 46, 16, 1, 47, 17],
						[12, 151, 121, 7, 152, 122],
						[12, 75, 47, 26, 76, 48],
						[39, 54, 24, 14, 55, 25],
						[22, 45, 15, 41, 46, 16],
						[6, 151, 121, 14, 152, 122],
						[6, 75, 47, 34, 76, 48],
						[46, 54, 24, 10, 55, 25],
						[2, 45, 15, 64, 46, 16],
						[17, 152, 122, 4, 153, 123],
						[29, 74, 46, 14, 75, 47],
						[49, 54, 24, 10, 55, 25],
						[24, 45, 15, 46, 46, 16],
						[4, 152, 122, 18, 153, 123],
						[13, 74, 46, 32, 75, 47],
						[48, 54, 24, 14, 55, 25],
						[42, 45, 15, 32, 46, 16],
						[20, 147, 117, 4, 148, 118],
						[40, 75, 47, 7, 76, 48],
						[43, 54, 24, 22, 55, 25],
						[10, 45, 15, 67, 46, 16],
						[19, 148, 118, 6, 149, 119],
						[18, 75, 47, 31, 76, 48],
						[34, 54, 24, 34, 55, 25],
						[20, 45, 15, 61, 46, 16]
					],
						b = function(a, b) {
							var c = {};
							return c.totalCount = a, c.dataCount = b, c
						},
						c = {},
						e = function(b, c) {
							switch (c) {
							case d.L:
								return a[4 * (b - 1) + 0];
							case d.M:
								return a[4 * (b - 1) + 1];
							case d.Q:
								return a[4 * (b - 1) + 2];
							case d.H:
								return a[4 * (b - 1) + 3];
							default:
								return
							}
						};
					return c.getRSBlocks = function(a, c) {
						var d = e(a, c);
						if ("undefined" == typeof d) throw new Error("bad rs block @ typeNumber:" + a + "/errorCorrectLevel:" + c);
						for (var f = d.length / 3, g = new Array, h = 0; f > h; h += 1) for (var i = d[3 * h + 0], j = d[3 * h + 1], k = d[3 * h + 2], l = 0; i > l; l += 1) g.push(b(j, k));
						return g
					}, c
				}(),
				i = function() {
					var a = new Array,
						b = 0,
						c = {};
					return c.getBuffer = function() {
						return a
					}, c.getAt = function(b) {
						var c = Math.floor(b / 8);
						return 1 == (a[c] >>> 7 - b % 8 & 1)
					}, c.put = function(a, b) {
						for (var d = 0; b > d; d += 1) c.putBit(1 == (a >>> b - d - 1 & 1))
					}, c.getLengthInBits = function() {
						return b
					}, c.putBit = function(c) {
						var d = Math.floor(b / 8);
						a.length <= d && a.push(0), c && (a[d] |= 128 >>> b % 8), b += 1
					}, c
				},
				j = function(a) {
					var d = c.MODE_8BIT_BYTE,
						e = b.stringToBytes(a),
						f = {};
					return f.getMode = function() {
						return d
					}, f.getLength = function(a) {
						return e.length
					}, f.write = function(a) {
						for (var b = 0; b < e.length; b += 1) a.put(e[b], 8)
					}, f
				},
				k = function() {
					var a = new Array,
						b = {};
					return b.writeByte = function(b) {
						a.push(255 & b)
					}, b.writeShort = function(a) {
						b.writeByte(a), b.writeByte(a >>> 8)
					}, b.writeBytes = function(a, c, d) {
						c = c || 0, d = d || a.length;
						for (var e = 0; d > e; e += 1) b.writeByte(a[e + c])
					}, b.writeString = function(a) {
						for (var c = 0; c < a.length; c += 1) b.writeByte(a.charCodeAt(c))
					}, b.toByteArray = function() {
						return a
					}, b.toString = function() {
						var b = "";
						b += "[";
						for (var c = 0; c < a.length; c += 1) c > 0 && (b += ","), b += a[c];
						return b += "]"
					}, b
				},
				l = function() {
					var a = 0,
						b = 0,
						c = 0,
						d = "",
						e = {},
						f = function(a) {
							d += String.fromCharCode(g(63 & a))
						},
						g = function(a) {
							if (0 > a);
							else {
								if (26 > a) return 65 + a;
								if (52 > a) return 97 + (a - 26);
								if (62 > a) return 48 + (a - 52);
								if (62 == a) return 43;
								if (63 == a) return 47
							}
							throw new Error("n:" + a)
						};
					return e.writeByte = function(d) {
						for (a = a << 8 | 255 & d, b += 8, c += 1; b >= 6;) f(a >>> b - 6), b -= 6
					}, e.flush = function() {
						if (b > 0 && (f(a << 6 - b), a = 0, b = 0), c % 3 != 0) for (var e = 3 - c % 3, g = 0; e > g; g += 1) d += "="
					}, e.toString = function() {
						return d
					}, e
				},
				m = function(a) {
					var b = a,
						c = 0,
						d = 0,
						e = 0,
						f = {};
					f.read = function() {
						for (; 8 > e;) {
							if (c >= b.length) {
								if (0 == e) return -1;
								throw new Error("unexpected end of file./" + e)
							}
							var a = b.charAt(c);
							if (c += 1, "=" == a) return e = 0, -1;
							a.match(/^\s$/) || (d = d << 6 | g(a.charCodeAt(0)), e += 6)
						}
						var f = d >>> e - 8 & 255;
						return e -= 8, f
					};
					var g = function(a) {
							if (a >= 65 && 90 >= a) return a - 65;
							if (a >= 97 && 122 >= a) return a - 97 + 26;
							if (a >= 48 && 57 >= a) return a - 48 + 52;
							if (43 == a) return 62;
							if (47 == a) return 63;
							throw new Error("c:" + a)
						};
					return f
				},
				n = function(a, b) {
					var c = a,
						d = b,
						e = new Array(a * b),
						f = {};
					f.setPixel = function(a, b, d) {
						e[b * c + a] = d
					}, f.write = function(a) {
						a.writeString("GIF87a"), a.writeShort(c), a.writeShort(d), a.writeByte(128), a.writeByte(0), a.writeByte(0), a.writeByte(0), a.writeByte(0), a.writeByte(0), a.writeByte(255), a.writeByte(255), a.writeByte(255), a.writeString(","), a.writeShort(0), a.writeShort(0), a.writeShort(c), a.writeShort(d), a.writeByte(0);
						var b = 2,
							e = h(b);
						a.writeByte(b);
						for (var f = 0; e.length - f > 255;) a.writeByte(255), a.writeBytes(e, f, 255), f += 255;
						a.writeByte(e.length - f), a.writeBytes(e, f, e.length - f), a.writeByte(0), a.writeString(";")
					};
					var g = function(a) {
							var b = a,
								c = 0,
								d = 0,
								e = {};
							return e.write = function(a, e) {
								if (a >>> e != 0) throw new Error("length over");
								for (; c + e >= 8;) b.writeByte(255 & (a << c | d)), e -= 8 - c, a >>>= 8 - c, d = 0, c = 0;
								d = a << c | d, c += e
							}, e.flush = function() {
								c > 0 && b.writeByte(d)
							}, e
						},
						h = function(a) {
							for (var b = 1 << a, c = (1 << a) + 1, d = a + 1, f = i(), h = 0; b > h; h += 1) f.add(String.fromCharCode(h));
							f.add(String.fromCharCode(b)), f.add(String.fromCharCode(c));
							var j = k(),
								l = g(j);
							l.write(b, d);
							var m = 0,
								n = String.fromCharCode(e[m]);
							for (m += 1; m < e.length;) {
								var o = String.fromCharCode(e[m]);
								m += 1, f.contains(n + o) ? n += o : (l.write(f.indexOf(n), d), f.size() < 4095 && (f.size() == 1 << d && (d += 1), f.add(n + o)), n = o)
							}
							return l.write(f.indexOf(n), d), l.write(c, d), l.flush(), j.toByteArray()
						},
						i = function() {
							var a = {},
								b = 0,
								c = {};
							return c.add = function(d) {
								if (c.contains(d)) throw new Error("dup key:" + d);
								a[d] = b, b += 1
							}, c.size = function() {
								return b
							}, c.indexOf = function(b) {
								return a[b]
							}, c.contains = function(b) {
								return "undefined" != typeof a[b]
							}, c
						};
					return f
				},
				o = function(a, b, c, d) {
					for (var e = n(a, b), f = 0; b > f; f += 1) for (var g = 0; a > g; g += 1) e.setPixel(g, f, c(g, f));
					var h = k();
					e.write(h);
					for (var i = l(), j = h.toByteArray(), m = 0; m < j.length; m += 1) i.writeByte(j[m]);
					i.flush();
					var o = "";
					return o += "<img", o += ' src="', o += "data:image/gif;base64,", o += i, o += '"', o += ' width="', o += a, o += '"', o += ' height="', o += b, o += '"', d && (o += ' alt="', o += d, o += '"'), o += "/>"
				};
			return b
		}();
	return function(a) {
		"function" == typeof define && define.amd ? define([], a) : "object" == typeof exports && (module.exports = a())
	}(function() {
		return a
	}), !
	function(a) {
		a.stringToBytes = function(a) {
			function b(a) {
				for (var b = [], c = 0; c < a.length; c++) {
					var d = a.charCodeAt(c);
					128 > d ? b.push(d) : 2048 > d ? b.push(192 | d >> 6, 128 | 63 & d) : 55296 > d || d >= 57344 ? b.push(224 | d >> 12, 128 | d >> 6 & 63, 128 | 63 & d) : (c++, d = 65536 + ((1023 & d) << 10 | 1023 & a.charCodeAt(c)), b.push(240 | d >> 18, 128 | d >> 12 & 63, 128 | d >> 6 & 63, 128 | 63 & d))
				}
				return b
			}
			return b(a)
		}
	}(a), a
}()), Function.prototype.bind || (Function.prototype.bind = function(a) {
	var b = this;
	return function() {
		return b.apply(a, Array.prototype.slice.call(arguments))
	}
}), String.prototype.trim || (String.prototype.trim = function() {
	return this.replace(/(^\s*)|(\s*$)/g, "")
}), Array.prototype.indexOf || (Array.prototype.indexOf = function(a) {
	var b = this.length >>> 0,
		c = Number(arguments[1]) || 0;
	for (c = 0 > c ? Math.ceil(c) : Math.floor(c), 0 > c && (c += b); b > c; c++) if (c in this && this[c] === a) return c;
	return -1
}), Array.prototype.forEach || (Array.prototype.forEach = function(a, b) {
	var c, d;
	if (null == this) throw new TypeError(" this is null or not defined");
	var e = Object(this),
		f = e.length >>> 0;
	if ("function" != typeof a) throw new TypeError(a + " is not a function");
	for (arguments.length > 1 && (c = b), d = 0; f > d;) {
		var g;
		d in e && (g = e[d], a.call(c, g, d, e)), d++
	}
}), Array.isArray || (Array.isArray = function(a) {
	return "[object Array]" === Object.prototype.toString.call(a)
}), Object.create || (Object.create = function() {
	function a() {}
	return function(b) {
		if (1 != arguments.length) throw new Error("Object.create implementation only accepts one parameter.");
		return a.prototype = b, new a
	}
}()), Object.keys || (Object.keys = function(a) {
	if (a !== Object(a)) throw new TypeError("Object.keys called on a non-object");
	var b, c = [];
	for (b in a) Object.prototype.hasOwnProperty.call(a, b) && c.push(b);
	return c
});
var hexcase = 0,
	b64pad = "",
	chrsz = 8,
	sta = {
		homepageVisit: function(a) {
            console.log(a);
            debugger;
			var b = fh5.header.replace(/^https?:/, location.protocol) + "/bookvisitinfo.html?userid=" + a + "&type=1&hash=" + hex_md5(encodeURIComponent(a + "1" + fh5.hashKey));
			this.ajaxFn(b)
		},
		homepageShare: function(a) {
            debugger;
			var b = fh5.header.replace(/^https?:/, location.protocol) + "/bookvisitinfo.html?userid=" + a + "&type=2&hash=" + hex_md5(encodeURIComponent(a + "1" + fh5.hashKey));
			this.ajaxFn(b)
		},
		bookShare: function(a, b) {
            debugger;
			var c = fh5.header.replace(/^https?:/, location.protocol) + "/bookvisitinfo.html?uLink=" + a + "&bLink=" + b + "&type=7&page=0&code=0";
			this.ajaxFn(c)
		},
		bookcaseVisit: function(a) {
            debugger;
			var b = fh5.header.replace(/^https?:/, location.protocol) + "/bookvisitinfo.html?userid=" + a + "&type=3&hash=" + hex_md5(encodeURIComponent(a + "1" + fh5.hashKey));
			this.ajaxFn(b)
		},
		bookcaseShare: function(a) {
            debugger;
			var b = fh5.header.replace(/^https?:/, location.protocol) + "/bookvisitinfo.html?userid=" + a + "&type=4&hash=" + hex_md5(encodeURIComponent(a + "1" + fh5.hashKey));
			this.ajaxFn(b)
		},
		bookDownload: function(a, b) {
            debugger;
			var c = fh5.header.replace(/^https?:/, location.protocol) + "/bookvisitinfo.html?uLink=" + a + "&bLink=" + b + "&type=8&page=0&code=0";
			this.ajaxFn(c)
		},
		ajaxFn: function(a) {
            debugger;
			$.ajax({
				async: !0,
				url: a,
				type: "GET",
				dataType: "script",
				jsonp: "jsoncallback",
				timeout: 5e3,
				beforeSend: function() {},
				success: function(a, b) {},
				complete: function(a, b) {},
				error: function(a) {}
			})
		}
	};
!
function(a) {
	"function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a : a(jQuery)
}(function(a) {
	function b(b) {
		var g = b || window.event,
			h = i.call(arguments, 1),
			j = 0,
			k = 0,
			l = 0,
			m = 0;
		if (b = a.event.fix(g), b.type = "mousewheel", "detail" in g && (l = -1 * g.detail), "wheelDelta" in g && (l = g.wheelDelta), "wheelDeltaY" in g && (l = g.wheelDeltaY), "wheelDeltaX" in g && (k = -1 * g.wheelDeltaX), "axis" in g && g.axis === g.HORIZONTAL_AXIS && (k = -1 * l, l = 0), j = 0 === l ? k : l, "deltaY" in g && (l = -1 * g.deltaY, j = l), "deltaX" in g && (k = g.deltaX, 0 === l && (j = -1 * k)), 0 !== l || 0 !== k) {
			if (1 === g.deltaMode) {
				var n = a.data(this, "mousewheel-line-height");
				j *= n, l *= n, k *= n
			} else if (2 === g.deltaMode) {
				var o = a.data(this, "mousewheel-page-height");
				j *= o, l *= o, k *= o
			}
			return m = Math.max(Math.abs(l), Math.abs(k)), (!f || f > m) && (f = m, d(g, m) && (f /= 40)), d(g, m) && (j /= 40, k /= 40, l /= 40), j = Math[j >= 1 ? "floor" : "ceil"](j / f), k = Math[k >= 1 ? "floor" : "ceil"](k / f), l = Math[l >= 1 ? "floor" : "ceil"](l / f), b.deltaX = k, b.deltaY = l, b.deltaFactor = f, b.deltaMode = 0, h.unshift(b, j, k, l), e && clearTimeout(e), e = setTimeout(c, 200), (a.event.dispatch || a.event.handle).apply(this, h)
		}
	}
	function c() {
		f = null
	}
	function d(a, b) {
		return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0
	}
	var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
		h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
		i = Array.prototype.slice;
	if (a.event.fixHooks) for (var j = g.length; j;) a.event.fixHooks[g[--j]] = a.event.mouseHooks;
	var k = a.event.special.mousewheel = {
		version: "3.1.9",
		setup: function() {
			if (this.addEventListener) for (var c = h.length; c;) this.addEventListener(h[--c], b, !1);
			else this.onmousewheel = b;
			a.data(this, "mousewheel-line-height", k.getLineHeight(this)), a.data(this, "mousewheel-page-height", k.getPageHeight(this))
		},
		teardown: function() {
			if (this.removeEventListener) for (var a = h.length; a;) this.removeEventListener(h[--a], b, !1);
			else this.onmousewheel = null
		},
		getLineHeight: function(b) {
			return parseInt(a(b)["offsetParent" in a.fn ? "offsetParent" : "parent"]().css("fontSize"), 10)
		},
		getPageHeight: function(b) {
			return a(b).height()
		},
		settings: {
			adjustOldDeltas: !0
		}
	};
	a.fn.extend({
		mousewheel: function(a) {
			return a ? this.bind("mousewheel", a) : this.trigger("mousewheel")
		},
		unmousewheel: function(a) {
			return this.unbind("mousewheel", a)
		}
	})
}), function(a) {
	var b = "object" == typeof exports && exports,
		c = "object" == typeof module && module && module.exports == b && module,
		d = "object" == typeof global && global;
	(d.global === d || d.window === d) && (a = d);
	var e = function(a) {
			this.message = a
		};
	e.prototype = new Error, e.prototype.name = "InvalidCharacterError";
	var f = function(a) {
			throw new e(a)
		},
		g = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
		h = function(a) {
			a = String(a);
			for (var b, c, d = a.length, e = 0, f = "", h = -1; ++h < d;) c = g.indexOf(a.charAt(h)), b = e % 4 ? 64 * b + c : c, e++ % 4 && (f += String.fromCharCode(255 & b >> (-2 * e & 6)));
			return f
		},
		i = function(a) {
			a = String(a), /[^\0-\xFF]/.test(a) && f("The string to be encoded contains characters outside of the Latin1 range.");
			for (var b, c, d, e, h = a.length % 3, i = "", j = -1, k = a.length - h; ++j < k;) b = a.charCodeAt(j) << 16, c = a.charCodeAt(++j) << 8, d = a.charCodeAt(++j), e = b + c + d, i += g.charAt(e >> 18 & 63) + g.charAt(e >> 12 & 63) + g.charAt(e >> 6 & 63) + g.charAt(63 & e);
			return 2 == h ? (b = a.charCodeAt(j) << 8, c = a.charCodeAt(++j), e = b + c, i += g.charAt(e >> 10) + g.charAt(e >> 4 & 63) + g.charAt(e << 2 & 63) + "=") : 1 == h && (e = a.charCodeAt(j), i += g.charAt(e >> 2) + g.charAt(e << 4 & 63) + "=="), i
		},
		j = {
			encode: i,
			decode: h,
			version: "0.1.0"
		};
	if ("function" == typeof define && "object" == typeof define.amd && define.amd) define(function() {
		return j
	});
	else if (b && !b.nodeType) if (c) c.exports = j;
	else for (var k in j) j.hasOwnProperty(k) && (b[k] = j[k]);
	else a.base64 = j
}(this);
var hf_utils = {
	requestDomain: function() {
		return fh5.website.replace(/^https?:/, location.protocol)
	},
	encodeHTML: function(a) {
		return ("undefined" == typeof a || null == a) && (a = ""), a.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\\/g, "&#92;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/\n/g, "<br>")
	},
	isPC: function() {
		for (var a = navigator.userAgent, b = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod", "Nokia", "Symbian", "Phone", "Linux armv71", "MAUI", "UNTRUSTED/1.0", "Windows CE", "BlackBerry", "IEMobile"), c = !0, d = 0; d < b.length; d++) if (a.indexOf(b[d]) > 0) {
			c = !1;
			break
		}
		return c
	},
	isMobile: function() {
		for (var a = navigator.platform, b = new Array("iPhone", "iPod", "iPad", "android", "Nokia", "SymbianOS", "Symbian", "Windows Phone", "Phone", "Linux armv71", "MAUI", "UNTRUSTED/1.0", "Windows CE", "BlackBerry", "IEMobile"), c = !1, d = 0; d < b.length; d++) a.match(b[d]) && (c = !0); - 1 != navigator.platform.indexOf("iPad") && (c = !0);
		var e = navigator.appVersion;
		return e.match(/linux/i) && (e.match(/mobile/i) || e.match(/X11/i)) && (c = !0), c
	},
	isLteIE8: function() {
		var a = -1 !== navigator.userAgent.toLocaleLowerCase().indexOf("msie");
		return "ontouchend" in document ? a && !+[1] : !0
	},
	bindClcik: function() {
		var a = {};
		return a.isSupportTouch = "ontouchend" in document ? !0 : !1, a.isEvent = a.isSupportTouch ? "touchend" : "mouseup", a.isEvent
	},
	bindEvent: function(a, b) {
		this.isLteIE8() ? a.on(this.bindClcik(), function() {
			b()
		}) : new Hammer(a[0]).on("tap", function() {
			b()
		})
	},
	addPlaceHolder: function(a, b) {
		a.val(b), a.on("focus", function() {
			a.val().trim() === b && a.val("")
		}), a.on("blur", function() {
			"" === a.val().trim() && a.val(b)
		})
	},
	parseDate: function(a) {
		var b = a.split(" "),
			c = b[0].split("-"),
			d = b[1].split(":"),
			e = new Date(c[0], c[1] - 1, c[2], d[0], d[1], d[2]);
		return e
	},
	formatDate: function(a, b) {
		var c = {
			"M+": a.getMonth() + 1,
			"d+": a.getDate(),
			"h+": a.getHours(),
			"m+": a.getMinutes(),
			"s+": a.getSeconds(),
			"q+": Math.floor((a.getMonth() + 3) / 3),
			S: a.getMilliseconds()
		};
		/(y+)/.test(b) && (b = b.replace(RegExp.$1, (a.getFullYear() + "").substr(4 - RegExp.$1.length)));
		for (var d in c) new RegExp("(" + d + ")").test(b) && (b = b.replace(RegExp.$1, 1 == RegExp.$1.length ? c[d] : ("00" + c[d]).substr(("" + c[d]).length)));
		return b
	},
	nl2br: function(a) {
		return a.replace(/\n/g, "<br>")
	},
	br2nl: function(a) {
		return a.replace(/<.?br.?>/g, "\n")
	},
	br2nl2: function(a) {
		return a.replace(/<.?br.?>/g, "\\n")
	},
	loadImg: function(a) {
		for (var b = 0; b < a.length; b++) {
			var c = new Image;
			c.src = a[b]
		}
	},
	getLabelFilePath: function(a) {
		var b = "";
		switch (a) {
		case "1":
			b = "label-new.png";
			break;
		case "2":
			b = "label-hot.png";
			break;
		case "3":
			b = "label-featured.png"
		}
		return "https://book.yunzhan365.com/resourceFiles/bookcase/img/" + b
	},
	getBookUrl: function(a, b, c, d, e, f) {

		d.attr("src", a), f && f(b, c, d, e) // a.replace(/^https?:/, location.protocol) + "files/shot.jpg"
	},
	addSpin: function(a) {
		var b, c = a.css("position");
		"absolute" !== c && "relative" !== c && "fixed" !== c && a.css("position", "relative"), b = $("<div class='af-spin-loading'></div>").appendTo(a), a.ccSpin = b
	},
	removeSpin: function(a) {
		var b = a.ccSpin;
		b && b.length > 0 && b.remove()
	},
	downPDF: function(a, b, c) {
		"undefined" != typeof b && "undefined" != typeof c && this.bookDownload(b, c), window.open(this.requestDomain() + "/download/download-pdf-file.php?bookid=" + a, "_self")
	},
	downZIP: function(a, b) {
        debugger;
		if (!a.hasClass("disabled")) {
			var c = this,
				d = this.requestDomain();
			$.ajax({
				url: d + "/download/create-book-zip-online.php",
				type: "get",
				dataType: "jsonp",
				data: {
					bookid: b
				},
				beforeSend: function() {
					a.addClass("disabled"), c.addSpin(a)
				},
				success: function(e) {
					switch (a.removeClass("disabled"), c.removeSpin(a), e.status) {
					case "1":
						c.bookDownload(e.uLink, e.bLink), window.open(d + "/download/download-zip-file.php?bookid=" + b, "_self");
						break;
					case "2":
						alert(c.getLangVal(bcLanguage, "bdUseOut"));
						break;
					case "3":
						alert(c.getLangVal(bcLanguage, "bdFreeText"));
						break;
					default:
						alert(c.getLangVal(bcLanguage, "bdPackError"))
					}
				},
				error: function() {
					a.removeClass("disabled"), c.removeSpin(a), alert(c.getLangVal(bcLanguage, "bdPackError"))
				}
			})
		}
	},
	downEXE1: function(a, b) {
        debugger;
		if (!a.hasClass("disabled")) {
			var c = this,
				d = this.requestDomain();
			$.ajax({
				url: d + "/download/create-book-exe-zip-online.php",
				type: "get",
				dataType: "jsonp",
				data: {
					bookid: b
				},
				beforeSend: function() {
					a.addClass("disabled"), c.addSpin(a)
				},
				success: function(e) {
					switch (a.removeClass("disabled"), c.removeSpin(a), e.status) {
					case "1":
						c.bookDownload(e.uLink, e.bLink), window.open(d + "/download/download-exe-zip-file.php?bookid=" + b, "_self");
						break;
					case "2":
						alert(c.getLangVal(bcLanguage, "bdUseOut"));
						break;
					case "3":
						alert(c.getLangVal(bcLanguage, "bdFreeText"));
						break;
					default:
						alert(c.getLangVal(bcLanguage, "bdPackError"))
					}
				},
				error: function() {
					a.removeClass("disabled"), c.removeSpin(a), alert(c.getLangVal(bcLanguage, "bdPackError"))
				}
			})
		}
	},
	downEXE2: function(a, b) {
        debugger;
		if (!a.hasClass("disabled")) {
			var c = this,
				d = this.requestDomain();
			$.ajax({
				url: d + "/download/create-exe-online.php",
				type: "get",
				dataType: "jsonp",
				data: {
					bookid: b
				},
				beforeSend: function() {
					a.addClass("disabled"), c.addSpin(a)
				},
				success: function(e) {
					switch (a.removeClass("disabled"), c.removeSpin(a), e.status) {
					case "1":
						c.bookDownload(e.uLink, e.bLink), window.open(d + "/download/download-exe-file.php?bookid=" + b, "_self");
						break;
					case "2":
						alert(c.getLangVal(bcLanguage, "bdUseOut"));
						break;
					case "3":
						alert(c.getLangVal(bcLanguage, "bdFreeText"));
						break;
					default:
						alert(c.getLangVal(bcLanguage, "bdPackError"))
					}
				},
				error: function() {
					a.removeClass("disabled"), c.removeSpin(a), alert(c.getLangVal(bcLanguage, "bdPackError"))
				}
			})
		}
	},
	downMAC: function(a, b) {
        debugger;
		if (!a.hasClass("disabled")) {
			var c = this,
				d = this.requestDomain();
			$.ajax({
				url: d + "/download/create-macapp-zip-online.php",
				type: "get",
				dataType: "jsonp",
				data: {
					bookid: b
				},
				beforeSend: function() {
					a.addClass("disabled"), c.addSpin(a)
				},
				success: function(e) {
					switch (a.removeClass("disabled"), c.removeSpin(a), e.status) {
					case "1":
						c.bookDownload(e.uLink, e.bLink), window.open(d + "/download/download-macapp-zip-file.php?bookid=" + b, "_self");
						break;
					case "2":
						alert(c.getLangVal(bcLanguage, "bdUseOut"));
						break;
					case "3":
						alert(c.getLangVal(bcLanguage, "bdFreeText"));
						break;
					default:
						alert(c.getLangVal(bcLanguage, "bdPackError"))
					}
				},
				error: function() {
					a.removeClass("disabled"), c.removeSpin(a), alert(c.getLangVal(bcLanguage, "bdPackError"))
				}
			})
		}
	},
	bookDownload: function(a, b) {
        debugger;
		var c = window.location.hostname;
		if (c.match(/www.yunzhan365.com|sharedbook.cn|huaceshu.cn|book.yunzhan365.com/)) {
			var d = fh5.header.replace(/^https?:/, location.protocol) + "/bookvisitinfo.html?uLink=" + a + "&bLink=" + b + "&type=8&page=0&code=0";
			$.ajax({
				async: !0,
				url: d,
				type: "GET",
				dataType: "script",
				jsonp: "jsoncallback",
				timeout: 5e3,
				beforeSend: function() {},
				success: function(a, b) {},
				complete: function(a, b) {},
				error: function(a) {}
			})
		}
	},
	getLangVal: function(a, b, c) {
		var d = {
			language: "Chinese",
			lbCnacelBtn: "关闭",
			spTitle: "分享",
			spLabel: "链接",
			spInput: "分享",
			dpTitle: "新页面打开",
			dpToolTip: "点击右边按钮进行关闭！",
			bdpTitle: "简介",
			bdpPage: "页数",
			bdpNewTime: "发布时间",
			bdpView: "查看",
			udpTitle: "用户信息",
			bdTitle: "选择下载版本",
			bdPDFBtn: "下载PDF",
			bdPDFText: "PDF下载",
			bdZIPBtn: "下载ZIP",
			bdZIPText: "ZIP下载",
			bdEXEBtn1: "下载EXE",
			bdEXEText1: "防杀毒软件误报EXE包",
			bdEXEBtn2: "下载EXE",
			bdEXEText2: "独立EXE文件",
			bdMACBtn: "下载MAC",
			bdMACText: "MAC下载",
			bdFreeText: "请升级到收费版。",
			bdPackError: "打包失败，请重试。",
			bdUseOut: "这个月您的下载次数已经用完。",
			bcInvisible: "书橱设置了不可见.",
			bcAllBooks: "所有书籍",
			bcSearchText: "Search",
			bcNewUpload: "最新上传",
			bcOldUpload: "最早上传",
			bcSearchResult: "查找结果不存在",
			bcSearchBack: "返回",
			bcDownText: "下载",
			bcBookUnit: "本",
			bcBookUnits: "本",
			bcEncryptText: "书橱已加密.",
			bcEncryptInput: "输入密码...",
			bcEncryptBtn: "进入",
			bcEncryptRefer: "进入...",
			bcEncryptHint: "* 请输入密码",
			bcEncryptError: "* 密码错误！",
			bcEncryptError2: "* 链接出错！"
		},
			e = $.extend({}, d, a);
		return e[b] || c || ""
	},
	weixinShanre: function(a, b, c, d) {
		if ("micromessenger" == window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)) {
			var e = a,
				f = this.br2nl(b),
				g = c,
				h = d;
			e = "" == e ? g : e, f = "" == f ? e : f;
			try {
				wx.ready(function() {
					wx.onMenuShareTimeline({
						title: e,
						link: g,
						imgUrl: h,
						success: function() {},
						cancel: function() {}
					}), wx.onMenuShareAppMessage({
						title: e,
						desc: f,
						link: g,
						imgUrl: h,
						success: function() {},
						cancel: function() {}
					}), wx.onMenuShareQQ({
						title: e,
						desc: "" == f ? e : f,
						link: g,
						imgUrl: h,
						success: function() {},
						cancel: function() {}
					}), wx.onMenuShareWeibo({
						title: e,
						desc: "" == f ? e : f,
						link: g,
						imgUrl: h,
						success: function() {},
						cancel: function() {}
					}), wx.onMenuShareQZone({
						title: e,
						desc: "" == f ? e : f,
						link: g,
						imgUrl: h,
						success: function() {},
						cancel: function() {}
					})
				}), wx.error(function(a) {})
			} catch (i) {}
		}
	},
	showSuccess: function(a, b) {
		var c = $("body"),
			d = c.find(".af-alter-tip");
		d.length > 0 && d.remove();
		var e = $('<p class="af-alter-tip"></p>');
		e.append("<span>" + a + "</span>"), b || (b = "success"), e.addClass(b), c.append(e), setTimeout(function() {
            // debugger;
			e.addClass("show")
		}, 1), setTimeout(function() {
			e.fadeOut(function() {
                // debugger;
				$(this).remove()
			})
        }, 2e3)
        // debugger;
	},
	showError: function(a) {
		this.showSuccess(a, "error")
	},
	Base64: base64
}; +
function(a) {
	"use strict";

	function b() {
		var a = document.createElement("bootstrap"),
			b = {
				WebkitTransition: "webkitTransitionEnd",
				MozTransition: "transitionend",
				OTransition: "oTransitionEnd otransitionend",
				transition: "transitionend"
			};
		for (var c in b) if (void 0 !== a.style[c]) return {
			end: b[c]
		};
		return !1
	}
	a.fn.emulateTransitionEnd = function(b) {
		var c = !1,
			d = this;
		a(this).one("bsTransitionEnd", function() {
			c = !0
		});
		var e = function() {
				c || a(d).trigger(a.support.transition.end)
			};
		return setTimeout(e, b), this
	}, a(function() {
		a.support.transition = b(), a.support.transition && (a.event.special.bsTransitionEnd = {
			bindType: a.support.transition.end,
			delegateType: a.support.transition.end,
			handle: function(b) {
				return a(b.target).is(this) ? b.handleObj.handler.apply(this, arguments) : void 0
			}
		})
	})
}(jQuery), ToolTip.prototype = {
	constructor: ToolTip,
	getPanel: function() {
		return this.$panel
	},
	create: function() {
		var a = $("<div class='tool-tip-panel'></div>").addClass(this.options.position),
			b = $("<div class='tool-tip-arrow'></div>").addClass(this.options.isBig ? "big" : ""),
			c = $("<div class='tool-tip-text'></div>").html(this.options.text);
		return a.append(b).append(c), this.$panel = a, a
	},
	setPosition: function() {
		var a = this.options.container,
			b = a.offset(),
			c = b.top,
			d = b.left,
			e = (a.outerWidth(), a.outerHeight(), this.options.content),
			f = e.offset(),
			g = f.top,
			h = f.left,
			i = e.outerWidth(),
			j = e.outerHeight(),
			k = this.$panel,
			l = k.outerWidth(),
			m = k.outerHeight(),
			n = 0,
			o = 0,
			p = this.options.isBig ? 16 : this.options.otherLeft,
			q = this.options.isBig ? 16 : this.options.otherTop,
			r = this.options.position.toLowerCase();

		switch (r = "top", 35 > c && (r = "bottom"), this.options.position.toLowerCase()) {
		case "top":
			n = h - d - (l - i) / 2, o = g - c - (m + q);
			break;
		case "left":
			n = h - d - (l + p), o = g - c - (m - j) / 2;
			break;
		case "right":
			n = h - d + (i + p), o = g - c - (m - j) / 2;
			break;
		case "bottom":
			n = h - d - (l - i) / 2, o = g + c - (m + q)
		}
		k.css({
			left: n,
			top: o
		})
	},
	destroy: function() {
		var a = this;
		a.$panel.fadeOut(function() {
			a.$panel.remove()
		})
	}
}, +
function(a) {
	"use strict";
	var b = function(b, c) {
			var d = {
				className: "",
				placement: "top",
				title: "",
				leaveTime: 20,
				removeTime: 40,
				isRemove: !0,
				container: "body"
			};
			c = a.extend({}, d, c), this.init(b, c)
		};
	b.VERSION = "1.9.0", b.prototype = {
		constructor: b,
		init: function(b, c) {
			var d = this;
			a("#" + a(b).attr("data-described")).remove(), a(b).off("mouseenter.hf.hintpoint mouseover.hf.hintpoint").on("mouseenter.hf.hintpoint mouseover.hf.hintpoint", function(a) {
				d.leaveTimeout && clearTimeout(d.leaveTimeout), d.enter(this, c)
			}).off("mouseleave.hf.hintpoint mouseout.hf.hintpoint").on("mouseleave.hf.hintpoint mouseout.hf.hintpoint", function(a) {
				var b = this;
				d.leaveTimeout && clearTimeout(d.leaveTimeout), d.leaveTimeout = setTimeout(function() {
					d.leave(b, c)
				}, c.leaveTime)
			})
		},
		// 鼠标进入，顶部弹出文字
		enter: function(b, c) {
			var d = this,
				e = a(b);
			return d.timeout && clearTimeout(d.timeout), e.attr("data-described") && d.$tip && d.$tip.is(":visible") ? void d.$tip.removeClass("hf-out").addClass("hf-in") : void this.show(b, c)
		},
		leave: function(b, c) {
			{
				var d = this;
				a(b)
			}
			d.timeout && clearTimeout(d.timeout), d.$tip && d.$tip.removeClass("hf-in").addClass("hf-out"), c.isRemove && (d.timeout = setTimeout(function() {
				d.hide(b)
			}, c.removeTime))
		},
		show: function(b, c) {
			var d = this,
				e = this.createTip(b, c);
			this.$tip = e.tip, "function" == typeof c.placement ? c.placement.call(d, d.$tip) : this.setPosition(this.$tip, e.arrow, a(b), c.container, c.placement), setTimeout(function() {
				d.$tip.removeClass("hf-out").addClass("hf-in")
			}, 0)
		},
		hide: function(b) {
			a(b).removeAttr("data-described"), this.$tip && this.$tip.remove()
		},
		createTip: function(b, c) {
			a(".hint-point-panel.hf-in").remove();
			var d = this,
				e = this.getUID("hintPoint"),
				f = a(b).attr("data-described", e),
				g = a("<div class='hint-point-panel'></div>").addClass("function" == typeof c.placement ? "" : c.placement).attr("id", e).addClass(c.className),
				h = a("<div class='hint-point-arrow'></div>"),
				i = a("<div class='hint-point-text'></div>").html(a(b).attr("data-hint-title") && "" != a(b).attr("data-hint-title") ? a(b).attr("data-hint-title") : c.title);
			return g.off("mouseenter.hf.hintpoint mouseover.hf.hintpoint").on("mouseenter.hf.hintpoint mouseover.hf.hintpoint", function(a) {
				d.leaveTimeout && clearTimeout(d.leaveTimeout), d.enter(f, c)
			}).off("mouseleave.hf.hintpoint mouseout.hf.hintpoint").on("mouseleave.hf.hintpoint mouseout.hf.hintpoint", function(a) {
				d.leaveTimeout && clearTimeout(d.leaveTimeout), d.leaveTimeout = setTimeout(function() {
					d.leave(f, c)
				}, c.leaveTime)
			}), g.append(h).append(i).appendTo(a(c.container)), {
				tip: g,
				arrow: h
			}
		},
		setPosition: function(b, c, d, e, f) {
			var g = a(e),
				h = g.offset(),
				i = h.top,
				j = h.left,
				k = (g.outerWidth(), g.outerHeight(), a(d)),
				l = k.offset(),
				m = l.top,
				n = l.left,
				o = k.outerWidth(),
				p = k.outerHeight(),
				q = a(b),
				r = q.outerWidth(),
				s = q.outerHeight(),
				t = 0,
				u = 0,
				v = 5,
				w = 5,
				x = "50%",
				f = f.toString().toLowerCase();
			switch (f = "top", console.log(m), 35 > m && (f = "bottom", q.removeClass("top").addClass("bottom")), f) {
			case "top":
				t = n - j - (r - o) / 2, u = m - i - (s + w), t = Math.max(t, 6), x = n - t + o / 2;
				break;
			case "left":
				t = n - j - (r + v), u = m - i - (s - p) / 2;
				break;
			case "right":
				t = n - j + (o + v), u = m - i - (s - p) / 2;
				break;
			case "bottom":
				t = n - j - (r - o) / 2, u = m - i + (p + w), t = Math.max(t, 6), x = n - t + o / 2, a(c).css({
					left: x
				});
				break;
			case "middle":
				break;
			default:
				t = n - j - (r - o) / 2, u = m - i - (s + w), t = Math.max(t, 6), x = n - t + o / 2
			}
			q.css({
				left: t,
				top: u
			})
		},
		getUID: function(a) {
			do a += ~~ (1e6 * Math.random());
			while (document.getElementById(a));
			return a
		}
	}, a.fn.hintPoint = function(a) {
		var c = new b(this, a);
		return c
	}, a.fn.hintPoint.Constructor = b;
	var c = a.fn.hintPoint;
	a.fn.hintPoint.noConflict = function() {
		return a.fn.hintPoint = c, this
	}, a(window).on("load.hf.hintpoint", function() {
		a.each(a(document).find("[data-toggle=hintpoint][data-hint-title!='']"), function(b, c) {
			var d = a(c);
			d.hintPoint({
				title: d.attr("data-hint-title"),
				placement: d.attr("data-hint-placement") || "top"
			})
		})
	})
}(jQuery), LightBox.prototype = {
	constructor: LightBox,
	getBox: function() {
		return this.$box
	},
	getPanel: function() {
		return this.$panel
	},
	getCancelBtn: function() {
		return this.$cancelBtn
	},
	launch: function(a) {
		var b = $("body");
		this.$outBox.appendTo(b), this.$bg.fadeIn(100), this.resize(0), this.$box.animate({
			opacity: 1
		}, 100)
	},
	cancel: function() {
		var a = this;
		a.$box.animate({
			opacity: 0,
			top: this.$doc.scrollTop()
		}, 200, function() {
			a.$outBox.remove()
		})
	},
	setStopResize: function(a) {
		this.stopResize = a
	},
	getStopResize: function() {
		return this.stopResize
	},
	resize: function(a) {
		if (!this.getStopResize()) {
			this.$box.width((window.innerWidth || $(window).width()) < this.width ? window.innerWidth || $(window).width() : this.width), a = a || 400;
			var b;
			b = this.$box.outerHeight() > (window.innerHeight || $(window).height()) ? this.$doc.scrollTop() : this.$doc.scrollTop() + ((window.innerHeight || $(window).height()) - this.$box.outerHeight()) / 2, this.$box.stop(!0, !1).animate({
				left: ((window.innerWidth || $(window).width()) - this.$box.outerWidth()) / 2,
				top: b
			}, a)
		}
	},
	easyClose: function() {
		var a = this;
		hf_utils.isLteIE8() ? (this.$bg.on(hf_utils.bindClcik(), function() {
			a.cancel()
		}), this.$box.on(hf_utils.bindClcik(), function(a) {
			return a.stopPropagation(), !1
		})) : (new Hammer(this.$bg[0]).on("tap", this.cancel.bind(this)), new Hammer(this.$box[0]).on("tap", function(a) {
			return console.log(a), !1
		}))
	}
}, SmartSelect.prototype = {
	constructor: SmartSelect,
	val: function() {
		return this.$val.data("value")
	},
	choose: function(a) {
		var b = this.options.changeCallback;
		$target = $(a.target), $target.is("li") && (this.$val.text($target.data("label")).data("value", $target.data("value")), b && b($target.data("value")))
	},
	toggleOption: function() {
		this.showing ? this.hideOptions() : this.showOptions()
	},
	showOptions: function() {
		var a = this;
		a.$opt.stop().show().animate({
			marginTop: 0,
			opacity: 1
		}, 200, function() {
			a.showing = !0
		})
	},
	hideOptions: function() {
		var a = this;
		a.$opt.stop().animate({
			marginTop: -3,
			opacity: 0
		}, 100, function() {
			a.showing = !1, a.$opt.hide()
		})
	}
}, SharePanel.prototype = {
	create: function(a) {
		var b = this,
			c = $("<div>").addClass("share-panel"),
			d = $("<div>").addClass("share-bg"),
			e = $("<div>").addClass("share-bottom"),
			f = $("<div>").addClass("share-swipe"),
			g = $("<div>").addClass("share-box"),
			h = $("<a href='javascript:void(0);' class='share-close'>取消</a>"),
			i = $("<ul>").addClass("share-lists"),
			j = b.getSupport(),
			k = j.qq,
			l = j.uc,
			m = j.wx,
			n = [];
		l || k && !m ? n.push({
			i: "weixin",
			t: "微信好友",
			d: "weixin"
		}, {
			i: "frigro",
			t: "朋友圈",
			d: "weixinFriend"
		}, {
			i: "qqfri",
			t: "QQ好友",
			d: "QQ"
		}, {
			i: "qzone",
			t: "QQ空间",
			d: "QZone"
		}) : n.push({
			i: "weixin",
			t: "微信好友",
			d: "weixin"
		}, {
			i: "qzone",
			t: "QQ空间",
			d: "QZone"
		}), n.push({
			i: "sina",
			t: "新浪微博",
			d: "sina"
		}, {
			i: "tieba",
			t: "百度贴吧",
			d: "tieba"
		}, {
			i: "doubai",
			t: "豆瓣",
			d: "doubai"
		}, {
			i: "curl",
			t: "复制网址",
			d: "CUrl"
		}, {
			i: "qrcode",
			t: "二维码",
			d: "QRcode"
		}), n.forEach(function(a) {
			var b = a.i;
			i.append("<li><a href='javascript:void(0);' class='share-icon " + b + "' data-app='" + a.d + "'>" + a.t + "</a></li>")
		}), i.append('<div class="clear"></div>'), hf_utils.isLteIE8() ? (h.on(hf_utils.bindClcik(), function() {
			b.hide()
		}), d.on(hf_utils.bindClcik(), function() {
			b.hide()
		})) : (new Hammer(h[0]).on("tap", function() {
			b.hide()
		}), new Hammer(d[0]).on("tap", function() {
			b.hide()
		})), i.find("a.share-icon").on("click", function() {
			b.share(this.getAttribute("data-app"), l, k, m, a)
		});
		var o = new ClipboardJS(".curl", {
			text: function(b) {
				return a.url
			}
		});
		o.on("success", function(a) {
			b.copyLink("复制网址成功"), a.clearSelection()
		}), o.on("error", function(a) {
			b.copyLink(l ? "复制网址成功" : "复制网址失败")
		}), b.qq = k, b.uc = l, b.os = j.os, b.$p = c, b.$b = e, c.append(d).append(e.append(f.append(g.append(i)).append(h))).appendTo($("body"))
	},
	show: function() {
		var a = this;
		setTimeout(function() {
			a.$p.addClass("show")
		}, 1)
	},
	hide: function() {
		this.$p.removeClass("show").addClass("hide");
		var a = this;
		setTimeout(function() {
			a.$p.remove()
		}, 200)
	},
	getSupport: function() {
		var a = navigator.appVersion,
			b = a.split("UCBrowser/").length > 1 ? 1 : 0,
			c = a.split("MQQBrowser/").length > 1 ? 2 : 0,
			d = /micromessenger/i.test(a),
			e = c ? parseFloat(a.split("MQQBrowser/")[1]) : 0,
			f = b ? parseFloat(a.split("UCBrowser/")[1]) : 0,
			g = function() {
				var a = navigator.userAgent;
				return /iphone|ipod/i.test(a) ? 1 : /android/i.test(a) ? 2 : 0
			}();
		return c && 5.4 > e && 1 == g || c && 5.3 > e && 1 == g ? c = 0 : c && 5.4 > e && 2 == g ? c = 1 : b && (10.2 > f && 1 == g || 9.7 > f && 2 == g) && (b = 0), {
			qq: c,
			uc: b,
			wx: d,
			os: g
		}
	},
	loadqqApi: function(a) {
		if (!this.qq) return a && a();
		var b = document.createElement("script");
		b.src = 1 === +this.qq ? "//3gimg.qq.com/html5/js/qb.js" : "//jsapi.qq.com/get?api=app.share", b.onload = function() {
			a && a()
		}, document.body.appendChild(b)
	},
	ucShare: function(a) {
		var b = "",
			c = null,
			d = a.app,
			e = a.appList,
			f = a.title,
			g = a.url,
			h = a.desc,
			i = a.img,
			j = "";
		return b = 1 == this.os ? e[d][0] : e[d][1], c = [f, h, g, b, "", j, i], window.ucweb ? void(ucweb.startRequest && ucweb.startRequest("shell.page_share", c)) : window.ucbrowser ? void(ucbrowser.web_share && ucbrowser.web_share.apply(null, c)) : void 0
	},
	qqShare: function(a) {
		var b = this,
			c = function() {
				var c = {
					url: a.url,
					title: a.title,
					description: a.desc,
					img_url: a.img,
					img_title: a.title,
					to_app: a.type,
					cus_txt: ""
				};
				if (window.browser) browser.app && browser.app.share(c);
				else if (window.qb) qb.share && qb.share(c);
				else {
					var d = '<div class="share-weixin-kernel"><div class="share-weixin-text">想发送给QQ好友，请点击这里，之后选择"发送给朋友"即可!</div></div>';
					b.$b.remove(), b.$p.append(d)
				}
			};
		this.qqBridgeLoaded ? c() : loadqqApi(c)
	},
	weixinShare: function(a, b) {
		var c = "";
		a ? (b = b ? b : '想发送给微信好友，请点击这里，之后选择"发送给朋友"即可!', c = '<div class="share-weixin-kernel"><div class="share-weixin-text">' + b + "</div></div>") : c = '<div class="share-weixin-box"><div class="share-weixin-info"><ul><li>1、在Safari浏览器中点击<img src="//www.yunzhan365.com/bookcase/img/weixin_share1.png" width="41"></li><li>2、在弹出的浮层中点击更多<img src="//www.yunzhan365.com/bookcase/img/weixin_share2.png" width="48"></li><li>3、微信置为<img src="//www.yunzhan365.com/bookcase/img/weixin_share3.png" width="66">状态</li><li>4、完成以上操作即可看到“微信”图标<img src="//www.yunzhan365.com/bookcase/img/weixin_share4.png" width="134">点击完成分享</li></ul><div class="share-weixin-mask"></div></div></div>', this.$b.remove(), this.$p.append(c)
	},
	QRcodeFn: function(a) {
        debugger;
		var b = $("<div>").addClass("share-bottom share-qrcode"),
			c = $("<div>").addClass("share-qrcode-box qr_code"),
			d = $("<a href='javascript:void(0);' class='share-close'>取消</a>"),
			e = $("<div>").addClass("share-qrcode-content"),
			f = $("<div>").addClass("share-qrcode-wx").html('<img src="https://book.yunzhan365.com/' + a.uLink + "/bookcase_" + a.bookcaseLink + '_wx.png" />'),
			g = $("<div>").addClass("share-qrcode-control"),
			h = $("<div>").addClass("share-qrcode-tab").html("普通码").attr("data-class", "qr_code"),
			i = $("<div>").addClass("share-qrcode-tab").html("小程序").attr("data-class", "wx_code"),
			j = $("<div>").addClass("share-qrcode-code").html('<img src="' + fh5.bookwebsite + "/" + a.uLink + "/bookcase_" + a.bookcaseLink + '.png" />');
		d.on("click", this.hide.bind(this)), h.add(i).on("click", function() {
			c.removeClass("qr_code wx_code").addClass($(this).data("class"))
		}), this.$b.remove(), b.append(c.append('<div class="share-qrcode-title">二维码</div>').append(e.append(j).append(f)).append(g.append(h).append(i))).append(d).appendTo(this.$p)
	},
	copyLink: function(a) {
		var b = $("body"),
			c = b.find("#copy-success-text");
		c.length > 0 && c.remove();
		var d = $('<p id="copy-success-text" class="share-copy-success">' + a + "</p>");
		b.append(d), this.$p.remove(), setTimeout(function() {
			d.addClass("show")
		}, 0), setTimeout(function() {
			d.fadeOut(function() {
				$(this).remove()
			})
		}, 2e3)
	},
	share: function(a, b, c, d, e) {
		var f = {
			weixin: ["kWeixin", "WechatFriends", 1, "微信好友"],
			weixinFriend: ["kWeixinFriend", "WechatTimeline", 8, "微信朋友圈"],
			QQ: ["kQQ", "QQ", 4, "QQ好友"],
			QZone: ["kQZone", "Qzone", 3, "QQ空间"]
		};
		if (b && f.hasOwnProperty(a)) this.ucShare($.extend(e, {
			appList: f,
			app: a
		}));
		else if (c && !d && f.hasOwnProperty(a)) this.qqShare($.extend(e, {
			type: f[a][2]
		}));
		else {
			var g = e.title,
				h = e.url,
				i = e.desc,
				j = e.img;
			switch (h = "https:" + h.replace(/^(https?:)?/, ""), j = "https:" + j.replace(/^(https?:)?/, ""), j = j.replace(/\?[0-9&]*/, ""), a) {
			case "weixin":
				this.weixinShare(d);
				break;
			case "QZone":
				if (d) this.weixinShare(d, '想分享到QQ空间，请点击这里，之后选择"分享到QQ空间"即可!');
				else {
					var k = "http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title=" + encodeURIComponent(g.replace(/&nbsp;/g, " ")) + "&url=" + encodeURIComponent(h) + ("" == i ? "&summary= " : "&summary=" + encodeURIComponent(hf_utils.br2nl(i))) + "&pics=" + encodeURIComponent(j);
					window.open(k, "_blank")
				}
				break;
			case "sina":
				var k = "http://service.weibo.com/share/share.php?url=" + encodeURIComponent(h) + "&title=" + encodeURIComponent(g) + "&pic=" + encodeURIComponent(j) + "&searchPic=true";
				window.open(k, "_blank");
				break;
			case "tieba":
				var k = "http://tieba.baidu.com/f/commit/share/openShareApi?title=" + encodeURIComponent(g) + "&pic=" + encodeURIComponent(j) + "&url=" + encodeURIComponent(h) + "&red_tag=k2861357408";
				window.open(k, "_blank");
				break;
			case "doubai":
				var k = "https://www.douban.com/share/service?image=" + encodeURIComponent(j) + "&href=" + encodeURIComponent(h) + "&name=" + encodeURIComponent(g);
				window.open(k, "_blank");
				break;
			case "QRcode":
				this.QRcodeFn(e);
				break;
			case "CUrl":
			}
		}
	},
	sharePC: function(a) {
        // debugger
		var b = a.link,
			c = a.title || " ",
			d = a.img;
		b = "https:" + b.replace(/^(https?:)?/, ""), d = "https:" + d.replace(/^(https?:)?/, ""), d = d.replace(/\?[0-9&]*/, "");
		var e = a.desc,
			f = new LightBox(hf_utils.getLangVal(bcLanguage, "spTitle"), 485),
			g = $("<div class='text-center'></div>"),
			h = $("<div class='share-qr-container'></div>"),
			i = $("<div class='share-qr-container p-0'></div>"),
			j = $("<img src='https://book.yunzhan365.com/" + a.uLink + "/bookcase_" + a.bookcaseLink + "_wx.png' />"),
			k = $("<div class='row'></div>"),
			l = $("<label class='row-label'>" + hf_utils.getLangVal(bcLanguage, "spLabel") + "</label>"),
			m = $("<div>").addClass("row-content pd-right"),
			n = $("<input class='share-url-input' type='text' value='" + b + "'></input>"),
			o = $("<div>").addClass("share-copy-btn").html("复制"),
			p = $("<div class='row'></div>"),
			q = $("<label class='row-label l-32'>" + hf_utils.getLangVal(bcLanguage, "spInput") + "</label>"),
			r = $("<div class='row-content share-social-buts'></div>"),
			s = "http://connect.qq.com/widget/shareqq/index.html?url=" + encodeURIComponent(b) + "&title=" + encodeURIComponent(c.replace(/&nbsp;/g, " ")) + ("" == e ? "&summary= " : "&summary=" + encodeURIComponent(hf_utils.br2nl(e))) + "&pics=" + encodeURIComponent(d),
			t = $("<a class='qqf-space' title='QQ好友' href='" + s + "' target='_blank'></a>"),
			u = "http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title=" + encodeURIComponent(c.replace(/&nbsp;/g, " ")) + "&url=" + encodeURIComponent(b) + ("" == e ? "&summary= " : "&summary=" + encodeURIComponent(hf_utils.br2nl(e))) + "&pics=" + encodeURIComponent(d),
			v = $("<a class='qq-space' title='QQ空间' href='" + u + "' target='_blank'></a>"),
			w = $("<a class='sina' title='新浪微博' href='http://v.t.sina.com.cn/share/share.php?title=" + encodeURIComponent(c.replace(/&nbsp;/g, " ")) + "&url=" + encodeURIComponent(b) + "&pic=" + encodeURIComponent(d) + "' target='_blank'></a>"),
			x = $("<a class='tie-ba' title='百度贴吧' href='https://tieba.baidu.com/f/commit/share/openShareApi?title=" + encodeURIComponent(c.replace(/&nbsp;/g, " ")) + "&desc=" + encodeURIComponent(hf_utils.br2nl(e).replace(/&nbsp;/g, " ")) + "&url=" + encodeURIComponent(b) + "&pic=" + encodeURIComponent(d.replace(/^https?/, "http")) + "' target='_blank'></a>"),
			y = $("<a class='dou-bai' title='豆瓣' href='https://www.douban.com/share/service?name=" + encodeURIComponent(c.replace(/&nbsp;/g, " ")) + "&text=" + encodeURIComponent(hf_utils.br2nl(e).replace(/&nbsp;/g, " ")) + "&href=" + encodeURIComponent(b) + "&image=" + encodeURIComponent(d) + "' target='_blank'></a>");
		h.qrcode({
			size: 128,
			text: b
		});
		var z = new ClipboardJS(".share-copy-btn", {
			text: function(b) {
				return a.url
			}
		});
		z.on("success", function(a) {
            // debugger;
			hf_utils.showSuccess("复制网址成功"), a.clearSelection()
		}), z.on("error", function(a) {
            debugger;
			hf_utils.showError("复制网址失败")
		}), f.getPanel().append(g.append(h).append(i.append(j))).append(k.append(l).append(m.append(n)).append(o)).append(p.append(q).append(r.append(t).append(v).append(w).append(x).append(y))), a.isSelf || v.add(w).add(x).add(y).each(function(b, c) {
			hf_utils.isLteIE8() ? $(c).on(hf_utils.bindClcik(), function() {
				sta.bookcaseShare(a.uId)
			}) : new Hammer(c).on("tap", function() {
				sta.bookcaseShare(a.uId)
			})
		}), f.launch(!0), hf_utils.isLteIE8() ? n.on(hf_utils.bindClcik(), function() {
			n[0].select()
		}) : new Hammer(n[0]).on("tap", function() {
			n[0].select()
		})
	}
}, BookDetailPanel.prototype = {
	resize: function() {},
	createQRCode: function(a, b) {
		a.empty();
		var c = a.width(),
			d = a.height(),
			e = 6,
			f = c > d ? d : c,
			g = $("<div class='book-qrurl'></div>");
		b = b.replace(/^https?:/, "https:"), a.append(g);
		var h = f - 2 * e;
		g.css({
			width: h,
			height: h,
			left: (c - f) / 2,
			top: (d - f) / 2,
			padding: e,
			border: 0
		}), g.qrcode({
			size: h,
			text: b
		})
	}
}, Bookcase.prototype = {

	initData: function(a, b) {
		console.log('init start')
		console.log(a)
		console.log(b)
		var c = {
			is_oss: !0,
			isSelf: "0",
			isShowCategory: "0",
			isShowContact: "0",
			isShowLogo: "0",
			isShowSearch: "0",
			isShowShare: "0",
			isShowSkin: "0",
			isFolderList: "0",
			logoLink: "yunzhan365.com",
			logoName: "",
			skin: "red",
			caseWidth: "100",
			caseHeight: "100",
			csaeBG: "",
			bMode: "1",
			showInfo: "1",
			showText: "0"
		},
			d = {
				1: {
					width: 100,
					height: 111,
					rowH: 136,
					img: ["/bookcase/img/gold-1.png", "/bookcase/img/green-1.png", "/bookcase/img/red-1.png", "/bookcase/img/silver-1.png", "/bookcase/img/yellow-1.png"],
					mMargin: 30
				},
				2: {
					width: 130,
					height: 140,
					rowH: 172,
					img: ["/bookcase/img/gold-2.jpg", "/bookcase/img/green-2.jpg", "/bookcase/img/red-2.jpg", "/bookcase/img/silver-2.jpg", "/bookcase/img/yellow-2.jpg"],
					mMargin: 30
				},
				3: {
					width: 152,
					height: 166,
					rowH: 208,
					img: ["/bookcase/img/gold-3.jpg", "/bookcase/img/green-3.jpg", "/bookcase/img/red-3.jpg", "/bookcase/img/silver-3.jpg", "/bookcase/img/yellow-3.jpg"],
					mMargin: 30
				},
				20: {
					width: 268,
					height: 358,
					rowH: 400,
					img: ["/bookcase/img/gold-20.jpg", "/bookcase/img/green-20.jpg", "/bookcase/img/red-20.jpg", "/bookcase/img/silver-20.jpg", "/bookcase/img/yellow-20.jpg"],
					mMargin: 60
				}
			},
			e = {
                1: [
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/gold-1.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/green-1.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/red-1.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/silver-1.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/yellow-1.png"
                   ],
                2: [
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/gold-2.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/green-2.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/red-2.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/silver-2.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/yellow-2.jpg"
                   ],
				3: [
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/gold-3.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/green-3.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/red-3.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/silver-3.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/yellow-3.jpg"
                   ],
                4: [
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/gold-4.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/green-4.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/red-4.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/silver-4.jpg",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/yellow-4.jpg"
                   ],
                20: [
                     "https://book.yunzhan365.com/resourceFiles/bookcase/img/gold-20.jpg",
                     "https://book.yunzhan365.com/resourceFiles/bookcase/img/green-20.jpg",
                     "https://book.yunzhan365.com/resourceFiles/bookcase/img/red-20.jpg",
                     "https://book.yunzhan365.com/resourceFiles/bookcase/img/silver-20.jpg",
                     "https://book.yunzhan365.com/resourceFiles/bookcase/img/yellow-20.jpg"
                    ],
				21: [
                     "https://book.yunzhan365.com/resourceFiles/bookcase/img/gold-4.jpg",
                     "https://book.yunzhan365.com/resourceFiles/bookcase/img/green-4.jpg",
                     "https://book.yunzhan365.com/resourceFiles/bookcase/img/red-4.jpg", 
                     "https://book.yunzhan365.com/resourceFiles/bookcase/img/silver-4.jpg",
                     "https://book.yunzhan365.com/resourceFiles/bookcase/img/yellow-4.jpg"
                    ]
			},
			f = [
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/gold-nav.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/gold-footer.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/green-nav.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/green-footer.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/red-nav.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/red-footer.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/silver-nav.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/silver-footer.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/yellow-nav.png",
                    "https://book.yunzhan365.com/resourceFiles/bookcase/img/yellow-footer.png"
                ];
        this.options = b = $.extend({}, c, b), 
        this.isFolderList = "1" == b.isFolderList ? !0 : !1, 
        this.folderBooks = {}, 
        this.isShowFolder = this.isFolderList, 
        this.currentFolderId = "-1", 
        b.isShowCategory = this.isFolderList ? "0" : b.isShowCategory;
		var g = b.bMode || 1,
			h = d[g];
        this.bWidth = h.width,
        this.bHeight = h.height,
        this.bookWidth = this.bWidth + h.mMargin,
        this.offsetX = 20,
        this.rowHeight = h.rowH,
        this.firstOther = "1" == b.isShowCategory ? 36 : 0,
        this.cache = {}, 
        this.bookObj = {}, 
        this.originalData = b.bookData, 
        this.newData = b.bookData, 
        this.isShowThumb = "1" == b.isShowThumb ? !0 : !1, 
        this.bookNum = this.newData.length, 
        this.isLocked = "1" == b.pass || "0" == b.status, 
        this.categoryid = "-1", 
        this.$container = $(a) || $("body"), $("body").removeClass().addClass("" == b.skin ? "red" : b.skin);
		var i = parseInt(b.caseWidth),
			j = parseInt(b.caseHeight);
		i = (isNaN(i) ? 100 : Math.min(i, 100)) + "%", j = (isNaN(j) ? 100 : Math.min(j, 100)) + "%";
		var k = $("<div class='bookcase-panel'></div>").width(i).height(j),
			l = $("<div class='bookcase-nav'></div>"),
			m = $("<div class='bookcase-content'></div>"),
			n = $("<div class='case-panel'></div>").addClass("mode-" + g),
			o = ($("<div class='case-top'></div>"), $("<div class='case-background'></div>")),
			p = $("<div class='case-content user-select-none'></div>"),
			q = $("<div class='case-message vertical hide'></div>"),
			r = $("<div class='vertical-content'></div>"),
			s = $("<div class='bookcase-footer user-select-none'></div>");
		return this.$navTop = l, this.$footer = s, this.$content = m, this.$caseBG = o, this.$caseContent = p, this.$casePanel = n, this.$caseMess = q, this.$messPanel = r, k.append(l).append(m.append(n.append(o).append(p))).append(s).append(q.append(r)).appendTo(this.$container), setTimeout(function() {
			hf_utils.loadImg(f.concat(e[g]))
		}, 1e3), "1" == b.isShowCategory && (this.createCategory(), setTimeout(function() {
			hf_utils.loadImg(e[parseInt(g) + 1])
		}, 1e3)), b
	},
	bindEvents: function() {
		function a(a, b) {
			var d = a.width(),
				e = a.height(),
				f = 6,
				g = d > e ? e : d,
				h = $("<div class='book-qrurl'></div>"),
				i = "/" + c.domain + "." + c.domainSuffix + "/",
				j = "" == c.domain || window.location.href.indexOf(i) <= 0 ? b.url + "index.html" : "https://" + c.domain + "." + c.domainSuffix + "/books/" + b.bLink + "/";
			j = j.replace(/^https?:/, "https:"), a.append(h);
			var k = g - 2 * f;
			h.css({
				width: k,
				height: k,
				left: (d - g) / 2,
				top: (e - g) / 2,
				padding: f,
				border: 0
			}), h.qrcode({
				size: k,
				text: j
			})
		}
		var b = this,
			c = b.options,
			d = c.openType.toString();
		if (hf_utils.isLteIE8() ? this.$content.on(hf_utils.bindClcik(), ".book-wrapper", function() {
			var a = $(this).attr("data-index"),
				e = b.bookObj[a];
			var path = document.getElementById("domain").value + 'view/' + e.idString
			window.open(path, "_blank");
			// 	f = ("/" + c.domain + "." + c.domainSuffix + "/", e.url.replace(/^https?:/, "https:") + "index.html");
			// switch ("" != c.domain && window.location.hostname.indexOf(c.domain) >= 0 && (f = "https://" + location.hostname + "/books/" + e.bLink + "/"), d) {
			// case "1":
			// 	new DemoPanel(e, f, c);
			// 	break;
			// case "2":
			// 	window.open(f, "_blank");
			// 	break;
			// default:
			// 	new BookDetailPanel($(this).clone(), e, f, c)
			// }
		}) : new Hammer(this.$content[0]).on("tap", function(a) {
			var e = $(a.target);
			var f = e.parents(".book-wrapper");
			e = f.length > 0 ? f : e;
			var g = e.attr("data-index");
			var h = b.bookObj[g];
			window.open(h.url, "_blank");
		}), hf_utils.isMobile()) this.$content.addClass("phone"), this.$content.on("scroll", function(a) {
			var c = b.$content.scrollTop();
			c = 0 > c ? 0 : c, b.setNumInput(c)
		});
		else {
			if (hf_utils.isLteIE8()) this.$content.on("mousedown.IE78", function(a) {
				var c = a || event,
					d = c.clientY - b.$casePanel.position().top;
				a.stopPropagation(), 1 == a.which && ($(document).on("mousemove.IE78", function(a) {
					a.preventDefault(), a.stopPropagation(), c = a || event; {
						var e = c.clientY - d;
						b.$casePanel.outerHeight() - b.$content.outerHeight()
					}
					b.swipeTo(e, !1, !0)
				}), $(document).on("mouseup.IE78", function(a) {
					var b = a || event;
					b.preventDefault(), b.stopPropagation(), $(document).off("mousemove.IE78"), $(document).off("mouseup.IE78")
				}))
			});
			else {
				var e = new Hammer(this.$casePanel[0]),
					f = b.$casePanel[0].offsetTop;
				e.get("pan").set({
					direction: Hammer.DIRECTION_ALL
				}), e.get("swipe").set({
					direction: Hammer.DIRECTION_ALL
				}), e.on("panstart", function(a) {
					b.$casePanel.removeClass("transition"), f = b.$casePanel[0].offsetTop
				}), e.on("panmove", function(a) {
					b.swipeTo(f + a.deltaY)
				}), e.on("panend", function(a) {
					b.$navTop.removeClass("shadow-top"), b.$footer.removeClass("shadow-bottom"), f = b.$casePanel[0].offsetTop
				}), e.on("swipe", function(a) {
					b.$casePanel.addClass("transition"), b.swipeTo(b.$casePanel[0].offsetTop + 300 * -a.velocityY)
				})
			}
			this.$content.on("mousewheel", function(a) {
				a.preventDefault(), b.$casePanel.removeClass("transition"), b.swipeTo(b.$casePanel[0].offsetTop + 50 * a.deltaY, !0)
			}), this.$content.on("mousewheel DOMMouseScroll", function(a) {
				a.preventDefault()
			}), this.$content.on("mousedown touchstart", ".book-down", function(a) {
				return a.preventDefault(), !1
			}), this.$content.on(hf_utils.bindClcik(), ".book-down", function(a) {
				a.preventDefault();
				var c = $(this);
				return b.downloadBook(c.attr("data-index"), c.attr("data-down"), c), !1
			})
		}
		true ? this.$content.on(hf_utils.bindClcik(), ".case-list-title", function() {
			var a = $(this).attr("data-index"),
				e = b.bookObj[a],
				f = ("/" + c.domain + "." + c.domainSuffix + "/", e.url.replace(/^https?:/, "https:") + "index.html");
			console.log(e)
			window.open(e.url, "_blank");
			// switch ("" != c.domain && window.location.hostname.indexOf(c.domain) >= 0 && (f = "https://" + location.hostname + "/books/" + e.bLink + "/"), d) {
			// case "1":
			// 	new DemoPanel(e, f, c);
			// 	break;
			// case "2":
			// 	window.open(f, "_blank");
			// 	break;
			// default:
			// 	new DemoPanel(e, f, c)
			// }
		}) : new Hammer(this.$content[0]).on("tap", function(a) {
			console.log('tap')
			var e = $(a.target),
				f = e.parents(".case-list-title");
			if (e.hasClass("case-list-title") || f.length > 0) {
				e = f.length > 0 ? f : e;
				var g = e.attr("data-index"),
					h = b.bookObj[g],
					i = ("/" + c.domain + "." + c.domainSuffix + "/", h.url.replace(/^https?:/, "https:") + "index.html");
				switch ("" != c.domain && window.location.hostname.indexOf(c.domain) >= 0 && (i = "https://" + location.hostname + "/books/" + h.bLink + "/"), d) {
				case "1":
					new DemoPanel(h, i, c);
					break;
				case "2":
					window.open(i, "_blank");
					break;
				default:
					new DemoPanel(h, i, c)
				}
			}
		}), this.$content.on("mouseover", ".book-wrapper", function(c) {
			var d = $(this).find(".book-face"),
				e = $(this).attr("data-index"),
				f = b.bookObj[e];
			d.children(".book-qrurl").length > 0 || a(d, f)
		}), hf_utils.isLteIE8() ? this.$content.on(hf_utils.bindClcik(), ".case-folder-wrapper", function() {
			var a = $(this).attr("data-folder");
			b.isShowFolder = !1, b.currentFolderId = a, b.newData = b.folderBooks[a], b.showFolderHideBtns(!1), b.resize()
		}) : new Hammer(this.$content[0]).on("tap", function(a) {
			var c = $(a.target),
				d = c.parents(".case-folder-wrapper");
			if (c.hasClass("case-folder-wrapper") || d.length > 0) {
				c = d.length > 0 ? d : c;
				var e = c.attr("data-folder");
				b.isShowFolder = !1, b.currentFolderId = e, b.newData = b.folderBooks[e], b.showFolderHideBtns(!1), b.resize()
			}
		}), new Hammer(this.$caseContent[0]).on("swipeleft", function(a) {
			b.pagingFlag && b.next()
		}), new Hammer(this.$caseContent[0]).on("swiperight", function(a) {
			b.pagingFlag && b.prev()
		})
	},
	getCurrentPage: function() {
		return this.currentPage
	},
	setCurrentPage: function(a) {
		this.currentPage = a
	},
	getPages: function() {
		return this.pages
	},
	setPages: function() {
		var a = this.newData.length,
			b = this.$content.width(),
			c = this.$content.height(),
			d = Math.max(1, Math.floor((b - 2 * this.offsetX) / this.bookWidth)),
			e = Math.ceil((c - this.firstOther) / this.rowHeight),
			f = e,
			g = e,
			h = Math.ceil(a / d),
			i = Math.ceil(h / e),
			j = (d * this.bookWidth, f * this.rowHeight + this.firstOther - c - 6);
		return this.rows = f, this.cols = d, this.minRows = g, this.maxMove = j, this.allRows = h, this.createBackground(f), i = Math.max(i, 1), this.setNumWidth(i), i
	},
	setFooterInputText: function(a) {
		this.$numInput.val(a)
	},
	setNumWidth: function(a) {
		var b = a + " / " + a,
			c = $("<div></div>").text(b).css({
				fontSize: this.$numInput.css("font-size"),
				display: "inline-block",
				padding: this.$numInput.css("padding"),
				visibility: "hidden",
				opacity: 0
			}).appendTo(this.$numInput.parent()),
			d = (0 == c.outerWidth() ? 40 + 6 * bookNum.toString().length * 3 : c.outerWidth()) + 20;
		d = 40 > d ? 40 : d, c.remove(), this.$numInput.val(this.currentPage + " / " + a).width(d)
	},
	createNav: function() {
		var a = this,
			b = this.options,
			c = this.$navTop,
			d = $("<div class='nav-bg'><div class='nav-left'></div><div class='nav-mid'></div><div class='nav-right'></div></div>"),
			e = $("<div class='nav-left-content'></div>"),
			f = $("<div class='nav-search-content'></div>"),
			g = $("<input type='text' class='nav-search-input input-form' />"),
			h = $("<div class='nav-search-btn'></div>"),
			i = $("<div class='nav-header'></div>"),
			j = $("<span class='nav-title'>" + b.title + "</span>"),
			k = $("<div class='nav-right-btns'></div>"),
			l = $("<div class='nav-sort-btns user-select-none'></div>"),
			m = $("<div class='nav-name-sort'></div>"),
			n = $("<div class='nav-date-sort'></div>"),
			o = $("<div type='button' class='nav-share-btn'></div>"),
			p = $("<div class='nav-change-btn'></div>").addClass(this.isShowThumb ? "list-show" : ""),
			q = function(a, b) {
				var c = "asc" == a ? ">" : "<",
					d = new Function("a", "b", "return a." + b + c + "b." + b + "?1:-1");
				return d
			},
			r = "NewToOld",
			s = $("<div class='nav-folder-btn'></div>");
		this.$backFolder = s;
		var t = $("<div>").addClass("nav-min-search");
		this.$min_seerach_btn = t, hf_utils.addPlaceHolder(g, hf_utils.getLangVal(bcLanguage, "bcSearchText")), g.on("keypress", function(b) {
			13 !== b.which || a.isLocked || a.searchFn()
		}).on("change input", function() {
			a.searchFn()
		});
		var u = b.logoName,
			v = "" == u ? "" : fh5.bookwebsite + "/" + b.uLink + "/" + u;
		hf_utils.isLteIE8() ? (h.on(hf_utils.bindClcik(), function() {
			a.isLocked || (h.hasClass("cancel-icon") ? a.cancelSearch() : a.searchFn())
		}), m.on(hf_utils.bindClcik(), function() {
			a.isLocked || ("AToZ" === r ? (a.newData.sort(q("asc", "title")), r = "ZToA", a.showMessage("Z - A", !0)) : (a.newData.sort(q("desc", "title")), r = "AToZ", a.showMessage("A - Z", !0)), a.resize(!0))
		}), n.on(hf_utils.bindClcik(), function() {
			a.isLocked || ("NewToOld" === r ? (a.newData.sort(q("asc", "newTime")), r = "OldToNew", a.showMessage(hf_utils.getLangVal(bcLanguage, "bcOldUpload") + " - " + hf_utils.getLangVal(bcLanguage, "bcNewUpload"), !0)) : (a.newData.sort(q("desc", "newTime")), r = "NewToOld", a.showMessage(hf_utils.getLangVal(bcLanguage, "bcNewUpload") + " - " + hf_utils.getLangVal(bcLanguage, "bcOldUpload"), !0)), a.resize(!0))
		}), o.on(hf_utils.bindClcik(), function() {
			if (!a.isLocked) {
				var c = b.caseLink;
				"" != b.domain && window.location.hostname.indexOf(b.domain) >= 0 && (c = "https://" + location.hostname + "/bookcase/" + b.bookcaseLink + "/"), new SharePanel({
					bookcaseLink: b.bookcaseLink,
					title: b.title,
					desc: b.desc,
					img: b.imgUrl.replace(/^https?:/, "https:") + "&" + (new Date).getTime(),
					pic: v,
					url: c,
					link: c,
					uLink: b.uLink,
					uId: b.uId,
					isSelf: b.isSelf
				})
			}
		}), j.on(hf_utils.bindClcik(), function() {
			a.isLocked || "1" == b.isShowContact && new UserDetailPanel(b)
		}), p.on(hf_utils.bindClcik(), function() {
			a.isLocked || a.changeShow()
		}), s.on(hf_utils.bindClcik(), function() {
			a.isLocked || (a.isShowFolder = !0, a.newData = a.originalData, a.createListFolder())
		}), t.on(hf_utils.bindClcik(), function() {
			f.hasClass("show") ? (f.removeClass("show"), t.removeClass("show")) : (f.addClass("show"), t.addClass("show"))
		})) : (new Hammer(h[0]).on("tap", function() {
			a.isLocked || (h.hasClass("cancel-icon") ? a.cancelSearch() : a.searchFn())
		}), new Hammer(m[0]).on("tap", function() {
			a.isLocked || ("AToZ" === r ? (a.newData.sort(q("asc", "title")), r = "ZToA", a.showMessage("Z - A", !0)) : (a.newData.sort(q("desc", "title")), r = "AToZ", a.showMessage("A - Z", !0)), a.resize(!0))
		}), new Hammer(n[0]).on("tap", function() {
			a.isLocked || ("NewToOld" === r ? (a.newData.sort(q("asc", "newTime")), r = "OldToNew", a.showMessage(hf_utils.getLangVal(bcLanguage, "bcOldUpload") + " - " + hf_utils.getLangVal(bcLanguage, "bcNewUpload"), !0)) : (a.newData.sort(q("desc", "newTime")), r = "NewToOld", a.showMessage(hf_utils.getLangVal(bcLanguage, "bcNewUpload") + " - " + hf_utils.getLangVal(bcLanguage, "bcOldUpload"), !0)), a.resize(!0))
		}), new Hammer(o[0]).on("tap", function() {
			if (!a.isLocked) {
				var c = b.caseLink;
				"" != b.domain && window.location.hostname.indexOf(b.domain) >= 0 && (c = "https://" + location.hostname + "/bookcase/" + b.bookcaseLink + "/"), new SharePanel({
					bookcaseLink: b.bookcaseLink,
					title: b.title,
					desc: b.desc,
					img: b.imgUrl.replace(/^https?:/, "https:") + "&" + (new Date).getTime(),
					url: c,
					pic: v,
					link: c,
					uLink: b.uLink,
					uId: b.uId,
					isSelf: b.isSelf
				})
			}
		}), new Hammer(j[0]).on("tap", function() {
			a.isLocked || "1" == b.isShowContact && new UserDetailPanel(b)
		}), new Hammer(p[0]).on("tap", function() {
			a.isLocked || a.changeShow()
		}), new Hammer(s[0]).on("tap", function() {
			a.isLocked || (a.isShowFolder = !0, a.newData = a.originalData, a.createListFolder())
		}), new Hammer(t[0]).on("tap", function() {
			f.hasClass("show") ? (f.removeClass("show"), t.removeClass("show")) : (f.addClass("show"), t.addClass("show"))
		})), this.$searchInput = g, this.$searchBtn = h, this.$changeBtn = p, this.$sortBtns = l, "0" != b.isShowSearch && f.append(g).append(h), "0" != b.isShowShare && k.append(o), e.append(s), "0" != b.isShowSearch && (e.append(t), e.append(f)), c.append(d).append(e).append(i.append(j)).append(k.append(l.append(m).append(n)).append(p)), !a.isLocked
	},
	bindNavEvents: function() {
		var a = this,
			b = this.options,
			c = this.$navTop,
			d = function(a, b) {
				var c = "asc" == a ? ">" : "<",
					d = new Function("a", "b", "return a." + b + c + "b." + b + "?1:-1");
				return d
			},
			e = "NewToOld",
			f = c.find(".nav-search-content"),
			g = b.logoName,
			h = "" == g ? "" : fh5.bookwebsite + "/" + b.uLink + "/" + g;
		hf_utils.isLteIE8() ? (c.on(hf_utils.bindClcik(), ".nav-search-btn", function(b) {
			a.isLocked || ($(this).hasClass("cancel-icon") ? a.cancelSearch() : a.searchFn())
		}), c.on(hf_utils.bindClcik(), ".nav-name-sort", function(b) {
			a.isLocked || ("AToZ" === e ? (a.newData.sort(d("asc", "title")), e = "ZToA", a.showMessage("Z - A", !0)) : (a.newData.sort(d("desc", "title")), e = "AToZ", a.showMessage("A - Z", !0)), a.resize(!0))
		}), c.on(hf_utils.bindClcik(), ".nav-date-sort", function(b) {
			a.isLocked || ("NewToOld" === e ? (a.newData.sort(d("asc", "newTime")), e = "OldToNew", a.showMessage(hf_utils.getLangVal(bcLanguage, "bcOldUpload") + " - " + hf_utils.getLangVal(bcLanguage, "bcNewUpload"), !0)) : (a.newData.sort(d("desc", "newTime")), e = "NewToOld", a.showMessage(hf_utils.getLangVal(bcLanguage, "bcNewUpload") + " - " + hf_utils.getLangVal(bcLanguage, "bcOldUpload"), !0)), a.resize(!0))
		}), c.on(hf_utils.bindClcik(), ".nav-share-btn", function(c) {
			if (!a.isLocked) {
				var d = b.caseLink;
				"" != b.domain && window.location.hostname.indexOf(b.domain) >= 0 && (d = "https://" + location.hostname + "/bookcase/" + b.bookcaseLink + "/"), new SharePanel({
					bookcaseLink: b.bookcaseLink,
					title: b.title,
					desc: b.desc,
					img: b.imgUrl.replace(/^https?:/, "https:") + "&" + (new Date).getTime(),
					pic: h,
					url: d,
					link: d,
					uLink: b.uLink,
					uId: b.uId,
					isSelf: b.isSelf
				})
			}
		}), c.on(hf_utils.bindClcik(), ".nav-title", function(c) {
			a.isLocked || "1" == b.isShowContact && new UserDetailPanel(b)
		}), c.on(hf_utils.bindClcik(), ".nav-change-btn", function(b) {
			a.isLocked || a.changeShow()
		}), c.on(hf_utils.bindClcik(), ".nav-folder-btn", function(b) {
			a.isLocked || (a.isShowFolder = !0, a.newData = a.originalData, a.createListFolder())
		}), c.on(hf_utils.bindClcik(), ".nav-min-search", function(a) {
			f.hasClass("show") ? (f.removeClass("show"), $(this).removeClass("show")) : (f.addClass("show"), $(this).addClass("show"))
		})) : new Hammer(c[0]).on("tap", function(c) {
			c.preventDefault();
			var g = $(c.target);
			if (g.hasClass("nav-search-btn")) {
				if (a.isLocked) return;
				return void(g.hasClass("cancel-icon") ? a.cancelSearch() : a.searchFn())
			}
			if (g.hasClass("nav-name-sort")) {
				if (a.isLocked) return;
				return "AToZ" === e ? (a.newData.sort(d("asc", "title")), e = "ZToA", a.showMessage("Z - A", !0)) : (a.newData.sort(d("desc", "title")), e = "AToZ", a.showMessage("A - Z", !0)), void a.resize(!0)
			}
			if (g.hasClass("nav-date-sort")) {
				if (a.isLocked) return;
				return "NewToOld" === e ? (a.newData.sort(d("asc", "newTime")), e = "OldToNew", a.showMessage(hf_utils.getLangVal(bcLanguage, "bcOldUpload") + " - " + hf_utils.getLangVal(bcLanguage, "bcNewUpload"), !0)) : (a.newData.sort(d("desc", "newTime")), e = "NewToOld", a.showMessage(hf_utils.getLangVal(bcLanguage, "bcNewUpload") + " - " + hf_utils.getLangVal(bcLanguage, "bcOldUpload"), !0)), void a.resize(!0)
			}
			if (g.hasClass("nav-share-btn")) {
				if (a.isLocked) return;
				var i = b.caseLink;
				return "" != b.domain && window.location.hostname.indexOf(b.domain) >= 0 && (i = "https://" + location.hostname + "/bookcase/" + b.bookcaseLink + "/"), void new SharePanel({
					bookcaseLink: b.bookcaseLink,
					title: b.title,
					desc: b.desc,
					img: b.imgUrl.replace(/^https?:/, "https:") + "&" + (new Date).getTime(),
					url: i,
					pic: h,
					link: i,
					uLink: b.uLink,
					uId: b.uId,
					isSelf: b.isSelf
				})
			}
			if (g.hasClass("nav-title")) {
				if (a.isLocked) return;
				return void("1" == b.isShowContact && new UserDetailPanel(b))
			}
			if (g.hasClass("nav-change-btn")) {
				if (a.isLocked) return;
				return void a.changeShow()
			}
			if (g.hasClass("nav-folder-btn")) {
				if (a.isLocked) return;
				return a.isShowFolder = !0, a.newData = a.originalData, void a.createListFolder()
			}
			return g.hasClass("nav-min-search") ? void(f.hasClass("show") ? (f.removeClass("show"), $(this).removeClass("show")) : (f.addClass("show"), $(this).addClass("show"))) : void 0
		})
	},
	createCategory: function() {
		var a = this,
			b = $("<div class='case-category'></div>"),
			c = $("<div class='case-category-content input-form'></div>"),
			d = this.options.folderData;
		d.unshift({
			value: "-1",
			label: hf_utils.getLangVal(bcLanguage, "bcAllBooks"),
			isDefault: !0
		}), b.append(c).appendTo(this.$casePanel), new SmartSelect({
			className: "input-form",
			container: c,
			data: d,
			changeCallback: function(b) {
				a.categoryid = b, a.searchFn()
			}
		})
	},
	searchFn: function() {
		if (this.isLocked) return void this.$searchInput.val("");
		var a = this,
			b = this.$searchInput.val().trim().toLowerCase(),
			c = this.originalData,
			d = [];
		b = b == hf_utils.getLangVal(bcLanguage, "bcSearchText") ? "" : b, "" == b ? this.$searchBtn.removeClass("cancel-icon") : this.$searchBtn.addClass("cancel-icon");
		for (var e = 0; e < c.length; e++) {
			var f = c[e],
				g = f.title.toLowerCase(),
				h = f.description.toLowerCase();
			(g && g.match(b) || h && h.match(b) || "" == g && "" == h) && ("1" == this.options.isShowCategory ? (f.categoryid == this.categoryid || -1 == this.categoryid) && d.push(f) : d.push(f))
		}
		if (this.newData = d, a.isShowFolder = !1, a.showFolderHideBtns(!1), this.resize(), "" != b && 0 === d.length) {
			var i = $("<p>" + hf_utils.getLangVal(bcLanguage, "bcSearchResult") + "</p>"),
				j = $("<a href='javascript:void(0);'>" + hf_utils.getLangVal(bcLanguage, "bcSearchBack") + "</a>").appendTo(i);
			hf_utils.isLteIE8() ? j.on(hf_utils.bindClcik(), function() {
				a.cancelSearch()
			}) : new Hammer(j[0]).on("tap", function() {
				a.cancelSearch()
			}), a.showMessage(i)
		} else a.hideMessage()
	},
	cancelSearch: function() {
		this.$searchInput.val("").focus(), this.$searchBtn.removeClass("cancel-icon"), this.hideMessage(), this.searchFn()
	},
	createFooter: function() {
		var a = this,
			b = this.options,
			c = b.skin,
			d = b.logoName,
			e = "" == d ? "" : "./" + d, //website footer logo
			f = b.logoLink,
			g = "" === f || f.match("http") ? "" == f ? "javascript:void(0);" : f : location.protocol + ("/" + f),
			h = $("<a rel='nofollow' class='footer-logo' " + ("" == f ? "" : "target='_blank'") + " href='" + f + "'></a>"),
			i = $("<img src='" + d + "'/>").addClass("" == d ? "hide" : ""),
			j = $("<div class='footer-mid'></div>"),
			k = $("<input type='text' class='footer-input input-form' readonly='readonly'/>"),
			l = $("<div class='case-icon footer-prev'></div>"),
			m = $("<div class='case-icon footer-next'></div>"),
			n = $("<div class='footer-skin-btn'></div>"),
			o = $("<ul class='footer-skin'><div></div><li class='red'></li><li class='gold'></li><li class='silver'></li><li class='green'></li><li class='yellow'></li></ul>");
		this.isSlideFlag ? j.append(k) : j.append(l).append(k).append(m), c = "" == c ? "red" : c, o.find("li." + c).addClass("active"), hf_utils.isLteIE8() ? (n.on(hf_utils.bindClcik(), function() {
			n.hasClass("show") ? n.removeClass("show") : n.addClass("show")
		}), o.on(hf_utils.bindClcik(), "li", function(a) {
			var b = $(this);
			o.find("li").removeClass("active"), $("body").removeClass().addClass(b.attr("class")), b.addClass("active")
		})) : (new Hammer(n[0]).on("tap", function() {
			n.hasClass("show") ? n.removeClass("show") : n.addClass("show")
		}), o.find("li").each(function(a, b) {
			var c = $(b);
			new Hammer(c[0]).on("tap", function() {
				o.find("li").removeClass("active"), $("body").removeClass().addClass(c.attr("class")), c.addClass("active")
			})
		})), l.on("click", function() {
			a.pagingFlag && a.prev()
		}), m.on("click", function() {
			a.pagingFlag && a.next()
		}), this.$numInput = k, this.$prevBtn = l, this.$nextBtn = m, "0" != b.isShowLogo && this.$footer.append(h.append(i)), "0" != b.isShowSkin && this.$footer.append(n.append(o)), this.$footer.append(j), this.isSlideFlag && this.setNumWidth2()
	},
	initPage: function() {
		this.isShowThumb = !0, this.pages = this.setPages(), this.setCurrentPage(Math.min(this.getCurrentPage(), this.pages - 1)), this.isPaging(!0), this.$caseContent.empty(), this.skipTo(this.getCurrentPage())
	},
	createPage: function(a) {
		if (this.$caseContent.find("#pageIndex-" + a).length > 0) return null;
		var b = $("<div class='case-page' id='pageIndex-" + a + "'></div>");
		return this.createBook(a, this.rows, this.cols, this.cols * this.bookWidth, this.newData.length, b), this.$caseContent.append(b), b
	},
	createBook: function(a, b, c, d, e, f) {
		for (var g = this, h = g.options, i = 0; b > i; i++) {
            console.log(g.options);
            debugger;
			for (var j = "1" == this.options.isShowCategory && 0 == i ? "high-row" : "", k = $("<div class='case-row " + j + "'></div>"), l = $("<div class='case-wrapper'></div").width(d), m = 0; c > m; m++) {
				var n = a * b * c + i * c + m;
				if (!(e > n)) break;
				var o = this.newData[n],
					p = o.id,
					q = o.title,
					r = o.isDownload,
					s = o.label.toString();
				if (this.cache[p] && this.cache[p].length > 0) {
					var t = this.cache[p];
					t.attr("data-id", n)
				} else {
					var t = $("<div class='book-content' data-index='" + p + "' data-id='" + n + "' load-status='none'></div>"),
						u = $("<div class='book-wrapper' data-index='" + p + "' data-id='" + n + "'></div>"),
						v = $("<div class='book-face'></div>"),
						w = ($("<div class='af-table'></div>"), $("<div class='af-table-centered'></div>"), $("<div class='book-down' title='下载' data-index='" + p + "' data-down='" + r + "'></div>")),
						x = $("<img class='book-img' src=''/>");
					if (t.width(this.bWidth).height(this.bHeight), "0" !== s && u.append("<img class='book-label-img' src='" + hf_utils.getLabelFilePath(s) + "'>"), hf_utils.isPC()) {
						var y = "1" == g.options.showText ? q : "";
						y = y.trim(), "" != y && $("<div class='book-outer-title'><span>" + q + "</span></div>").addClass("mode-" + this.options.bMode).appendTo(u), "0" == g.options.showText && "" != q && (u.addClass("show-none"), u.attr({
							"data-toggle": "hintpoint",
							"data-hint-title": q
						})), u.append(v), parseInt(h.uType) > 1 && r && "" != r && "0" != r && v.append(w)
					} else {
						var y = "1" == g.options.showInfo ? q : "";
						y = y.trim(), "" != y && $("<div class='book-outer-title'><span>" + q + "</span></div>").addClass("mode-" + this.options.bMode).appendTo(u), "0" == g.options.showInfo && "" != q && (u.addClass("show-none"), u.attr({
							"data-toggle": "hintpoint",
							"data-hint-title": q
						}))
					}
					t.append(u.append(x).append(
                            "<div class='loading'><img src='https://book.yunzhan365.com/resourceFiles/bookcase/img/loading.gif'></div>")
                        ), this.bookObj[p] = o, hf_utils.getBookUrl(o.cover, t, u, x, p, g.autoFitToBottom.bind(g))
				}
				t.appendTo(l)
			}
			k.append(l).appendTo(f)
		}
	},
	createRow: function(a) {
		var b = this.newData.length,
			c = this.$content.width(),
			d = this.$content.height(),
			e = Math.max(1, Math.floor((c - 2 * this.offsetX) / this.bookWidth)),
			f = Math.ceil(b / e),
			g = Math.ceil((d - this.firstOther) / this.rowHeight),
			f = Math.max(f, g),
			h = e * this.bookWidth,
			i = f * this.rowHeight + this.firstOther - d - 6;
		this.isShowThumb = !0, this.rows = f, this.cols = e, this.minRows = g, this.maxMove = i, a || this.createBackground(f), this.createBook2(f, e, h, b), this.$numInput.val(this.newData.length)
	},
	createBook2: function(a, b, c, d) {
		var e = this,
			f = e.options;
		this.$caseContent.empty();
		for (var g = 0; a > g; g++) {
			for (var h = "1" == this.options.isShowCategory && 0 == g ? "high-row" : "", i = $("<div class='case-row " + h + "'></div>"), j = $("<div class='case-wrapper'></div").width(c), k = 0; b > k; k++) {
				var l = g * b + k;
				if (!(d > l)) break;
				var m = this.newData[l],
					n = m.id,
					o = m.title,
					p = m.isDownload,
					q = m.label ? m.label.toString() : '0'; // 这行代码看不出来是要做什么
				if (this.cache[n] && this.cache[n].length > 0) {
					var r = this.cache[n];
					r.attr("data-id", l)
				} else {
					var r = $("<div class='book-content' data-index='" + n + "' data-id='" + l + "' load-status='none'></div>"),
						s = $("<div class='book-wrapper' data-index='" + n + "' data-id='" + l + "'></div>"),
						t = $("<div class='book-face'></div>"),
						u = ($("<div class='af-table'></div>"), $("<div class='af-table-centered'></div>"), $("<div class='book-down' title='下载' data-index='" + n + "' data-down='" + p + "'></div>")),
						v = $("<img class='book-img' src=''/>");
					if (r.width(this.bWidth).height(this.bHeight), "0" !== q && s.append("<img class='book-label-img' src='" + hf_utils.getLabelFilePath(q) + "'>"), hf_utils.isPC()) {
						var w = "1" == e.options.showText ? o : "";
						w = w.trim(), "" != w && $("<div class='book-outer-title'><span>" + o + "</span></div>").addClass("mode-" + this.options.bMode).appendTo(s), "0" == e.options.showText && "" != o && (s.addClass("show-none"), s.attr({
							"data-toggle": "hintpoint",
							"data-hint-title": o
						})), s.append(t), parseInt(f.uType) > 1 && p && "" != p && "0" != p && t.append(u)
					} else {
						var w = "1" == e.options.showInfo ? o : "";
						w = w.trim(), "" != w && $("<div class='book-outer-title'><span>" + o + "</span></div>").addClass("mode-" + this.options.bMode).appendTo(s), "0" == e.options.showInfo && "" != o && (s.addClass("show-none"), s.attr({
							"data-toggle": "hintpoint",
							"data-hint-title": o
						}))
					}
					r.append(s.append(v).append("<div class='loading'><img src='https://book.yunzhan365.com/resourceFiles/bookcase/img/loading.gif'></div>")), this.bookObj[n] = m, l <= this.minRows * b
				}
				r.appendTo(j)
			}
			i.append(j).appendTo(this.$caseContent)
		}
	},
	setNumInput: function(a) {
		var b = this.newData.length,
			c = 10,
			d = 40,
			e = Math.abs(a),
			f = Math.floor(Math.abs(e - this.firstOther) / this.rowHeight),
			g = e - (f * this.rowHeight + this.firstOther),
			h = 0,
			i = b;
		f = g >= this.rowHeight - c ? f + 1 : f, h = f * this.cols, i = h + Math.ceil((this.$content.height() + g - d) / this.rowHeight) * this.cols - 1, i = Math.min(i, b), this.loadBookFace(h)
	},
	loadBookFace: function(a) {
		for (var b = this, c = (b.options, this.cols * this.minRows + 2), d = 0; c >= d; d++) {
			var e = d + a,
				f = this.$content.find(".book-content[data-id=" + e + "]");
			if (f.length > 0 && "loaded" !== f.attr("load-status")) {
				var g = f.find(".book-wrapper"),
					h = f.find(".book-img"),
					i = f.attr("data-index"),
					j = this.bookObj[i];
				hf_utils.getBookUrl(j.cover, f, g, h, i, b.autoFitToBottom.bind(b))
			}
		}
	},
	setNumWidth2: function() {
		var a = this.originalData.length,
			b = a,
			c = $("<div></div>").text(b).css({
				fontSize: this.$numInput.css("font-size"),
				display: "inline-block",
				padding: this.$numInput.css("padding"),
				opacity: 0
			}).appendTo(this.$numInput.parent()),
			d = (0 == c.outerWidth() ? 40 + 6 * a.toString().length * 3 : c.outerWidth()) + 20;
		d = 40 > d ? 40 : d, c.remove(), this.$numInput.val(a).width(d)
	},
	createBackground: function(a) {
		this.$caseBG.empty();
		for (var b = 0; a > b; b++) {
			var c = "1" == this.options.isShowCategory && 0 == b ? "high-row" : "";
			this.$caseBG.append("<div class='case-row " + c + "'><div class='case-left'></div><div class='case-mid'></div><div class='case-right'></div></div>")
		}
	},
	resize: function(a) {
		this.isShowFolder ? this.showFolder() : this.isShowThumb ? this.isSlideFlag ? this.createRow(a) : this.initPage() : this.createList(), this.swipeTo(0, !1, !0), $.each(this.$content.find("[data-toggle=hintpoint][data-hint-title!='']"), function(a, b) {
			var c = $(b);
			c.hintPoint({
				title: c.attr("data-hint-title")
			})
		})
	},
	skipTo: function(a) {
		if (!(a >= this.getPages() || 0 > a)) {
			a = this.formatIndex(a), this.setFooterInputText(a + 1 + " / " + this.getPages()), this.preloadPage(parseInt(a)), this.changePage(a), this.setCurrentPage(a), this.setBtnAble(a)
		}
	},
	next: function(a) {
		this.skipTo(this.currentPage + (a ? a : 1))
	},
	prev: function(a) {
		this.skipTo(this.currentPage - (a ? a : 1))
	},
	formatIndex: function(a) {
		var b = this.getPages();
		return 0 > a ? a = (a + b) % b : a >= b && (a %= b), a
	},
	preloadPage: function(a) {
		this.createPage(a);
		this.createPage(this.formatIndex(a + 1)), this.createPage(this.formatIndex(a - 1))
	},
	changePage: function(a) {
		var b = this.$caseContent.find("#pageIndex-" + this.currentPage),
			c = this.$caseContent.find("#pageIndex-" + a);
		a < this.currentPage ? (b.css({
			webkitTransform: "translateX(100%)",
			mozTransform: "translateX(100%)",
			oTransform: "translateX(100%)",
			msTransform: "translateX(100%)",
			transform: "translateX(100%)",
			opacity: 0,
			visibility: "visible"
		}), c.css({
			webkitTransform: "translateX(0%)",
			mozTransform: "translateX(0%)",
			oTransform: "translateX(0%)",
			msTransform: "translateX(0%)",
			transform: "translateX(0%)",
			opacity: 1,
			visibility: "visible"
		})) : (b.css({
			webkitTransform: "translateX(-100%)",
			mozTransform: "translateX(-100%)",
			oTransform: "translateX(-100%)",
			msTransform: "translateX(-100%)",
			transform: "translateX(-100%)",
			opacity: 0,
			visibility: "visible"
		}), c.css({
			webkitTransform: "translateX(0%)",
			mozTransform: "translateX(0%)",
			oTransform: "translateX(0%)",
			msTransform: "translateX(0%)",
			transform: "translateX(0%)",
			opacity: 1,
			visibility: "visible"
		}))
	},
	setBtnAble: function(a) {
		var b = this.$nextBtn,
			c = this.$prevBtn,
			d = this.getPages();
		c.add(b).removeClass("disabled"), 1 == d && c.add(b).addClass("disabled"), 0 == a && c.addClass("disabled"), a + 1 == d && b.addClass("disabled")
	},
	swipeTo: function(a, b, c) {
		var d = this;
		a > 0 ? (a = 0, this.$navTop.addClass(c ? "" : "shadow-top"), b && setTimeout(function() {
			d.$navTop.removeClass("shadow-top")
		}, 200)) : a < -this.maxMove && (a = -this.maxMove, this.$footer.addClass(c ? "" : "shadow-bottom"), b && setTimeout(function() {
			d.$footer.removeClass("shadow-bottom")
		}, 200)), hf_utils.isMobile() ? this.$content.scrollTop(Math.abs(a)) : this.$casePanel.css("top", a), this.isSlideFlag && this.setNumInput(a)
	},
	autoFitToBottom: function(a, b, c, d) {
		var e = this,
			f = new Image;
		f.onload = function() {
			c.fadeIn();
			var g, h, i = a.height(),
				j = a.width(),
				k = f.width / f.height,
				l = i,
				m = i * k;
			m > j && (m = j, l = j / k), g = (j - m) / 2, h = i - l, b.css({
				width: m,
				height: l,
				left: g,
				top: h
			});
			var n, o = 4,
				p = $("<div class='book-border-container'></div>");
			for (p.css({
				right: -(o - 1),
				width: o
			}), n = 0; o > n; n++) {
				$("<div></div>").css({
					position: "absolute",
					width: 1,
					background: n % 2 == 0 ? "#ccc" : "#fff",
					height: l - 2 * (n + 1),
					top: n + 1,
					left: n + 1
				}).appendTo(p)
			}
			c.after(p), setTimeout(function() {
				b.fadeIn(400, function() {
					e.cache[d] = a, a.attr("load-status", "loaded")
				}), a.find(".loading").remove()
			}, 50)
		}, f.onerror = function() {
			var f, g, h = $("<div class='as-book-img'></div>"),
				i = a.height(),
				j = a.width(),
				k = .75,
				l = i,
				m = i * k;
			m > j && (m = j, l = j / k), f = (j - m) / 2, g = i - l, b.css({
				width: m,
				height: l,
				left: f,
				top: g
			});
			var n, o = 4,
				p = $("<div class='book-border-container'></div>");
			for (p.css({
				right: -(o - 1),
				width: o
			}), n = 0; o > n; n++) {
				$("<div></div>").css({
					position: "absolute",
					width: 1,
					background: n % 2 == 0 ? "#ccc" : "#fff",
					height: l - 2 * (n + 1),
					top: n + 1,
					left: n + 1
				}).appendTo(p)
			}
			c.after(h).after(p), setTimeout(function() {
				c.hide(), b.fadeIn(400, function() {
					e.cache[d] = a
				}), a.attr("load-status", "loaded")
			}, 50), a.find(".loading").remove()
		}, f.src = c.attr("src")
	},
	fixToButtom: function(a, b, c) {
		var d = new Image;
		d.onload = function() {
			c.fadeIn();
			var e = a.height(),
				f = a.width(),
				g = d.width / d.height,
				h = e,
				i = e * g;
			i > f && (i = f, h = f / g);
			var j = (f - i) / 2,
				k = e - h;
			b.css({
				width: i,
				height: h,
				left: j,
				top: k
			}), a.find(".loading").remove()
		}, d.onerror = function() {
			var d = $("<div class='as-book-img'></div>"),
				e = a.height(),
				f = a.width(),
				g = .75,
				h = e,
				i = e * g;
			i > f && (i = f, h = f / g);
			var j = (f - i) / 2,
				k = e - h;
			b.css({
				width: i,
				height: h,
				left: j,
				top: k
			}), c.after(d), c.hide(), a.find(".loading").remove()
		}, d.src = c.attr("src")
	},
	shakeMessage: function() {
		this.$caseMess.animate({
			left: "-=2px"
		}, 50).animate({
			left: "+=4px"
		}, 50).animate({
			left: "-=4px"
		}, 50).animate({
			left: "+=2px"
		}, 50)
	},
	showMessage: function(a, b) {
		this.$messPanel.html(a), this.$caseMess.stop(!0, !0).fadeIn(), b && this.$caseMess.stop(!0, !0).delay(1e3).fadeOut()
	},
	hideMessage: function() {
		this.$caseMess.hide()
	},
	hasEncrypt: function() {
		function a() {
			if (b.options.is_oss) {
				var a = e.val().trim();
				if (e.removeClass("invalid"), f.hasClass("disabled")) return;
				if ("" === a) return d.html(hf_utils.getLangVal(bcLanguage, "bcEncryptHint")), e.addClass("invalid"), void b.shakeMessage();
				b.options.bookcaseLink == bcSetInfo.bookcaseLink && hf_utils.Base64.encode(a + bcSetInfo.bookcaseLink) == bcSetInfo.pt ? (b.hideMessage(), b.initCaseData(bcConfig.bookData, bcConfig.bookData, bcConfig.folderData)) : (d.html(hf_utils.getLangVal(bcLanguage, "bcEncryptError")), e.addClass("invalid"), f.html(hf_utils.getLangVal(bcLanguage, "bcEncryptBtn")).removeClass("disabled"), b.shakeMessage())
			} else {
				var a = e.val().trim();
				if (e.removeClass("invalid"), f.hasClass("disabled")) return;
				if ("" == a) return d.html(hf_utils.getLangVal(bcLanguage, "bcEncryptHint")), e.addClass("invalid"), void b.shakeMessage();
                $.ajax({
					url: hf_utils.requestDomain() + "/center/db/check-bookcase-pass-online.php",
					type: "get",
					dataType: "jsonp",
					data: {
						linkName: b.options.bookcaseLink,
						pass: a,
						isFolderList: b.options.isFolderList
					},
					beforeSend: function() {
						f.html(hf_utils.getLangVal(bcLanguage, "bcEncryptRefer")).addClass("disabled")
					},
					success: function(a) {
                        debugger;
						1 == a.status ? (b.hideMessage(), b.initCaseData(a.books, a.books, a.catesArr)) : (d.html(hf_utils.getLangVal(bcLanguage, "bcEncryptError")), e.addClass("invalid"), f.html(hf_utils.getLangVal(bcLanguage, "bcEncryptBtn")).removeClass("disabled"), b.shakeMessage())
					},
					error: function() {
						d.html(hf_utils.getLangVal(bcLanguage, "bcEncryptError2")), e.addClass("invalid"), f.html(hf_utils.getLangVal(bcLanguage, "bcEncryptBtn")).removeClass("disabled"), b.shakeMessage()
					}
				})
			}
		}
		var b = this,
			c = $("<div class='encrypt-content'></div>"),
			d = $("<p>" + hf_utils.getLangVal(bcLanguage, "bcEncryptText") + "</p>"),
			e = $("<input placeholder='" + hf_utils.getLangVal(bcLanguage, "bcEncryptInput") + "' type='password'/>"),
			f = $("<div class='button button-gray'>" + hf_utils.getLangVal(bcLanguage, "bcEncryptBtn") + "</div>");
		return e.on("keypress", function(b) {
			13 === b.which && a()
		}), hf_utils.isLteIE8() ? f.on(hf_utils.bindClcik(), function() {
			a()
		}) : new Hammer(f[0]).on("tap", function() {
			a()
		}), c.append(d).append(e).append(f), c
	},
	initCaseData: function(a, b, c) {
		console.log(a,b,c)
		var d = this;
		d.isLocked = !1, d.originalData = a, d.newData = b, d.options.folderData = c, "1" == d.options.isShowCategory && d.createCategory(), d.resize(!1), d.isSlideFlag && d.setNumWidth2()
	},
	loadCaseData: function() {
		console.log('load data')
		var a = this,
			b = $(".bookcase-content"),
			c = b.length > 0 ? b : $(".main-container");
		$.ajax({
			url: hf_utils.requestDomain() + "/center/db/get-bookcase-info-online.php",
			type: "get",
			dataType: "jsonp",
			data: {
				linkName: a.options.bookcaseLink,
				userId: a.options.uId
			},
			beforeSend: function() {
				hf_utils.addSpin(c)
			},
			success: function(b) {
                console.log(b);
                debugger;
				hf_utils.removeSpin(c), 1 == b.status ? a.initCaseData(b.books, b.books, b.catesArr) : alert(b.mess)
			},
			error: function() {
				hf_utils.removeSpin($(".main-container")), alert("链接错误，获取数据失败！")
			}
		})
	},
	downloadBook: function(a, b, c) {
		if (b && "" != b && "0" != b) {
			var d = this.bookObj[a],
				e = b.split(","),
				f = e.indexOf("1") >= 0 ? !0 : !1,
				g = e.indexOf("2") >= 0 ? !0 : !1,
				h = e.indexOf("3") >= 0 ? !0 : !1,
				i = e.indexOf("4") >= 0 ? !0 : !1,
				j = e.indexOf("5") >= 0 ? !0 : !1;
			if (e.length > 1) new BookDownload({
				bookId: a,
				uLink: this.options.uLink,
				bLink: d.bLink,
				len: e.length,
				downObj: {
					pdf: f,
					zip: g,
					exe: h,
					exe2: i,
					mac: j
				}
			});
			else if (0 != e.length) switch (e[0].toString()) {
			case "1":
				hf_utils.downPDF(a, this.options.uLink, d.bLink);
				break;
			case "2":
				hf_utils.downZIP(c, a);
				break;
			case "3":
				hf_utils.downEXE1(c, a);
				break;
			case "4":
				hf_utils.downEXE2(c, a);
				break;
			case "5":
				hf_utils.downMAC(c, a)
			}
		}
	},
	isPaging: function(a) {
		this.pagingFlag = a, a ? this.$prevBtn.add(this.$nextBtn).show() : (this.$prevBtn.add(this.$nextBtn).hide(), this.$numInput.attr("readonly", "readonly"))
	},
	changeShow: function() {
		this.isShowThumb ? (this.$changeBtn.removeClass("list-show"), this.createList()) : (this.$changeBtn.addClass("list-show"), this.isSlideFlag ? this.createRow() : this.initPage()), this.swipeTo(0, !1, !0), $.each(this.$content.find("[data-toggle=hintpoint][data-hint-title!='']"), function(a, b) {
			var c = $(b);
			c.hintPoint({
				title: c.attr("data-hint-title")
			})
		})
	},
	createList: function(a) {
		var b = 400,
			c = 37,
			d = 36,
			e = "1" == this.options.isShowCategory ? 70 : 40,
			f = 40,
			g = this.newData.length,
			h = this.$content.width(),
			i = this.$content.height(),
			j = Math.max(1, Math.floor((h - 2 * d) / b)),
			k = Math.ceil(g / j),
			l = Math.max(i, k * c + e + f);
		maxMove = Math.max(0, k * c + e + f - i - 6), this.isShowThumb = !1, this.maxMove = maxMove, this.isPaging(!1), this.setFooterInputText(g), this.createListBG(l), this.createListBook(j, h - 2 * d, g)
	},
	createListContent: function(a, b) {
		for (var c = Math.floor(a / b), d = a - c * b, e = [], f = $("<div class='case-list-content'></div>").addClass("1" == this.options.isShowCategory ? "other-margin" : ""), g = 0, h = 0; b > h; h++) {
			var i = d > h ? c + 1 : c,
				j = $("<div class='case-list-col'></div>").css("left", g).width(i),
				k = $("<div class='case-list-col-inner'></div>");
			g += i, e[h] = k, j.append(k).appendTo(f)
		}
		return f.appendTo(this.$caseContent), e
	},
	createListBG: function(a) {
		this.$caseBG.empty();
		var b = $("<div class='case-list-upper-bg'><div class='case-list-upper-left'></div><div class='case-list-upper-mid'></div><div class='case-list-upper-right'></div></div>"),
			c = $("<div class='case-list-mid-bg'><div class='case-list-center-left'></div><div class='case-list-center-mid'></div><div class='case-list-center-right'></div></div>"),
			d = $("<div class='case-list-down-bg'><div class='case-list-down-left'></div><div class='case-list-down-mid'></div><div class='case-list-down-right'></div></div>"),
			e = $("<div class='case-list-bg'></div>").height(a);
		this.$caseBG.append(e.append(b).append(c).append(d))
	},
	createListBook: function(a, b, c) {
		this.$caseContent.empty();
		for (var d = this, e = this.createListContent(b, a), f = 0; c > f; f++) {
			var g = this.newData[f],
				h = g.id,
				i = g.title,
				j = (g.isDownload, '0', $("<div class='case-list-down'></div>"), $("<span class='case-list-index'>" + (f + 1) + ".</span>"), $("<span class='case-list-title' data-index='" + h + "'>" + i + "</span>")),
				k = $("<div class='case-list-item' data-index='" + h + "'></div>");
			d.bookObj[h] = g, k.append(j).appendTo(e[f % a])
		}
		e.forEach(function(a) {
			$(a).stop(!1, !0).show()
		})
	},
	showFolder: function() {
		var a = this;
		if ("1" == a.options.showCover) var b = 158,
			c = 165,
			d = 20,
			e = 20,
			f = 20;
		else var b = 144,
			c = 151,
			d = 20,
			e = 20,
			f = 20;
		var g = this.options.folderData,
			h = g.length,
			i = this.$content.width(),
			j = this.$content.height(),
			k = Math.max(1, Math.floor((i - 2 * f) / b)),
			l = Math.ceil(h / k),
			m = Math.max(j, l * c + d + e),
			n = k * b,
			o = Math.max(0, l * c + d + e - j - 6);
		n = n + 2 * f > i ? Math.max(i - 2 * f, 128) : n, this.maxMove = o, this.setFooterInputText(h), this.createFolderBG(m), this.createFolder(n, h)
	},
	createFolder: function(a, b) {
		var c = this,
			d = c.options,
			e = d.folderData;
		this.$caseContent.empty(), this.isPaging(!1);
		var f = $("<div class='case-folder-content'></div").width(a);
		if ("1" == c.options.showCover) for (var g = 0; g < e.length; g++) {
			var h = e[g],
				i = h.value,
				j = h.books,
				k = h.cover;
			this.folderBooks[i] = j;
			var l = $("<div class='case-folder-item not-default'></div>"),
				m = $("<div class='case-folder-wrapper not-default' data-folder='" + i + "'></div>"),
				n = null == k || "" == k ? "https://book.yunzhan365.com/resourceFiles/web_img/bookcase_default_cover.png" : fh5.bookwebsite + "/" + c.options.uLink + "/" + k,
				o = $("<img />").attr("src", n),
				p = $("<div>").addClass("case-folder-shadow"),
				q = $("<div>").addClass("case-folder-thick"),
				r = '<div class="t-top"></div><div class="t-mid"></div><div class="t-footer"></div>',
				s = $("<div class='case-folder-info not-default'></div>"),
				t = $("<div class='case-folder-title'>" + h.label + "</div>"),
				u = j.length,
				v = u + (u > 1 ? hf_utils.getLangVal(bcLanguage, "bcBookUnits") : hf_utils.getLangVal(bcLanguage, "bcBookUnit"));
			$folderBooks = $("<div class='case-folder-num'>（" + v + "）</div>"), l.append(m.append(o).append(p).append(q.append(r)).append(s.append(t).append($folderBooks))).appendTo(f), c.fixToButtom(l, m, o)
		} else for (var g = 0; g < e.length; g++) {
			var h = e[g],
				i = h.value,
				j = h.books;
			this.folderBooks[i] = j;
			var l = $("<div class='case-folder-item'></div>"),
				m = $("<div class='case-folder-wrapper' data-folder='" + i + "'></div>"),
				s = $("<div class='case-folder-info'></div>"),
				t = $("<div class='case-folder-title'>" + h.label + "</div>"),
				u = j.length,
				v = u + (u > 1 ? hf_utils.getLangVal(bcLanguage, "bcBookUnits") : hf_utils.getLangVal(bcLanguage, "bcBookUnit"));
			$folderBooks = $("<div class='case-folder-num'>（" + v + "）</div>"), l.append(m.append(s.append(t).append($folderBooks))).appendTo(f)
		}
		this.$caseContent.append(f)
	},
	createFolderBG: function(a) {
		this.$caseBG.empty();
		var b = $("<div class='case-list-upper-bg'><div class='case-list-upper-left'></div><div class='case-list-upper-mid'></div><div class='case-list-upper-right'></div></div>"),
			c = $("<div class='case-list-mid-bg'><div class='case-list-center-left'></div><div class='case-list-center-mid'></div><div class='case-list-center-right'></div></div>"),
			d = $("<div class='case-list-down-bg'><div class='case-list-down-left'></div><div class='case-list-down-mid'></div><div class='case-list-down-right'></div></div>"),
			e = $("<div class='case-list-bg'></div>").height(a);
		this.$caseBG.append(e.append(b).append(c).append(d))
	},
	showFolderHideBtns: function(a, b) {
		var c = this;
		return c.isFolderList ? void(a ? (hf_utils.addPlaceHolder(c.$searchInput, hf_utils.getLangVal(bcLanguage, "bcSearchText")), c.$searchBtn.removeClass("cancel-icon"), !b && c.hideMessage(), c.$changeBtn.removeClass("show").addClass("hide"), c.$sortBtns.removeClass("show").addClass("hide"), c.setFooterInputText(c.options.folderData.length), c.currentFolderId = "-1") : (c.$changeBtn.removeClass("hide").addClass("show"), c.$sortBtns.removeClass("hide").addClass("show"), c.setFooterInputText(c.newData.length))) : void c.$backFolder.hide()
	},
	createListFolder: function() {
		for (var a = this, b = $("<div class='folder-list-panel'></div>"), c = $("<div class='folder-list-bg'></div>"), d = $("<div class='folder-list-outter-box'></div>"), e = $("<div class='folder-list-arrow'></div>"), f = $("<div class='folder-list-box'></div>"), g = $("<div class='folder-list-up'>" + hf_utils.getLangVal(bcLanguage, "bcFolderList") + "</div>"), h = $("<div class='folder-list-colse'></div>"), i = $("<div class='folder-list-down'></div>"), j = $("<ul class='folder-list-ul'></ul>"), k = $("<div class='folder-list-back'></div>"), l = $("<div class='folder-list-back-btn'><span></span>" + hf_utils.getLangVal(bcLanguage, "bcBackFolder") + "</div>"), m = this.options.folderData, n = 0; n < m.length; n++) {
			var o = m[n],
				p = o.value,
				q = o.books,
				r = q.length,
				s = $("<li class='folder-list-item' data-index='" + p + "'><span class='folder-list-item-text' data-index='" + p + "'>" + o.label + "</span><span class='book-num'>（" + r + "）</span></li>");
			j.append(s)
		}
		var t = !0,
			u = function() {
				c.fadeOut(100), f.animate({
					opacity: 0
				}, 200, function() {
					b.remove()
				}), e.animate({
					opacity: 0
				}, 200)
			},
			v = function(b) {
				a.isShowFolder = "-1" == b ? !0 : !1, a.currentFolderId = b, a.newData = "-1" == b ? a.originalData : a.folderBooks[b], a.showFolderHideBtns(a.isShowFolder), a.resize(), u(), t = !1
			};
		hf_utils.isLteIE8() ? (j.on(hf_utils.bindClcik(), ".folder-list-item", function() {
			if (t) {
				var a = $(this).attr("data-index");
				v(a), t = !1
			}
		}), l.on(hf_utils.bindClcik(), function() {
			v("-1")
		}), h.on(hf_utils.bindClcik(), function() {
			u()
		}), c.add(d).on(hf_utils.bindClcik(), function() {
			u()
		}), f.add(e).on(hf_utils.bindClcik(), function(a) {
			return a.preventDefault(), a.stopPropagation(), !1
		})) : (new Hammer(j[0]).on("tap", function(a) {
			if (t) {
				var b = $(a.target),
					c = b.parents(".folder-list-item");
				if (b.hasClass("folder-list-item") || c.length > 0) {
					b = c.length > 0 ? c : b;
					var d = b.attr("data-index");
					v(d), t = !1
				}
			}
		}), new Hammer(l[0]).on("tap", function(a) {
			v("-1")
		}), new Hammer(h[0]).on("tap", function(a) {
			u()
		}), new Hammer(c[0]).on("tap", function(a) {
			u()
		}), new Hammer(d[0]).on("tap", function(a) {
			u()
		}), new Hammer(f[0]).on("tap", function(a) {
			return a.preventDefault(), !1
		}), new Hammer(e[0]).on("tap", function(a) {
			return a.preventDefault(), !1
		})), b.append(c).append(d.append(e).append(f.append(g.append(h)).append(i.append(j)).append(k.append(l)))).appendTo(this.$container), b.show(), c.fadeIn(100), f.animate({
			opacity: 1
		}, 100), e.animate({
			opacity: 1
		}, 100)
	}
}, window.Event && document.captureEvents(Event.MOUSEUP), document.oncontextmenu = nocontextmenu, document.onmousedown = norightclick, document.oncontextmenu = new Function("event.returnValue=false"), document.onselectstart = new Function("event.returnValue=false"), $(document).ready(function() {

	function a() {
		var a = "" + window.navigator.userAgent.toLowerCase();
		return /MicroMessenger/i.test(a)
	}
	function b() {
		var a = "" + window.navigator.userAgent.toLowerCase(),
			b = /MicroMessenger/i.test(a),
			c = /\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(a);
		return b && c
	}
	// if (bcSetInfo.hasOwnProperty("onlyViewWechat") && "1" == bcSetInfo.onlyViewWechat && !a()) {
	// 	var c = $("<img class='case-only-img' src='https://book.yunzhan365.com/bookcase/img/only-wechat.svg'/>"),
	// 		d = $("<p>").addClass("case-only-text").html("请在微信客户端打开链接");
	// 	return void $(".main-container").append(c).append(d)
	// }
	// 设置书架皮肤颜色
	var e = ["red", "gold", "silver", "green", "yellow"],
		f = {},
		g = getSearchVal("skin");
	g && e.indexOf(g.toLowerCase()) >= 0 && (f.skin = g);

	var userid  = '109269'
	var books = []
	var userSet = {}
    getUserSet()

    // 获取我的书架配置信息
    function getUserSet() {
	    var url = 'http://book.baige.me/api/getShelfSetting?userId=' + userid
	    $.ajax({url, success:function(res){
	    	// userSet = res
	    	bcSetInfo.title = res.title
	    	bcSetInfo.logoName = res.logo
	    	getBookList()
	    }})    	
    }
   
    // 获取我的书架列表
    function getBookList() {
	    var url = 'http://book.baige.me/api/getCase?userId=' + userid
	    $.ajax({url, success:function(res){
	    	var domain = document.getElementById("domain").value 
	    	for (var i = 0; i < res.length; i++) {
	    		res[i].url =  domain + 'view/' + res[i].idString
	    	}
	    	books = res
	    	initPage()
	    }})
    }
    


	function initPage() {
        bcConfig.bookData = books
		var h = $.extend({
			is_oss: !0
		}, bcSetInfo, bcUserInfo, bcConfig, f);
		if (bcSetInfo.pt != hf_utils.Base64.encode(bcSetInfo.bookcaseLink) || 1 != bcSetInfo.status) {
			h = $.extend({}, bcSetInfo, bcUserInfo, {
				bookData: [],
				folderData: []
			}, f);
		}

	    // 实例化一个Bookcase
		new Bookcase($(".main-container"), h), function() {

			var a, c = b();
			c && (document.body.addEventListener("focusin", function() {
				clearTimeout(a)
			}), document.body.addEventListener("focusout", function() {
				clearTimeout(a), a = setTimeout(function() {
					window.scrollTo({
						top: 0,
						left: 0,
						behavior: "smooth"
					})
				}, 200)
			}))
		}()		
	}

	// 这里可以写更多代码
});